{"version":3,"sources":["Components/Application.js","config.js","Components/Menu.js","Components/Data.js","Components/JWT.js","Components/Session.js","Public/index.js","index.js","Secure/projects.js","Secure/timesheets.js","Secure/teams.js"],"names":["Application","props","state","config","Yaml","load","this","application","id","length","sessionKey","Cookies","get","key","expireInHours","cookies","expiry","Date","setHours","getHours","set","expires","setState","isLoggedIn","area","getSessionKey","rawContent","ls","content","encryptedRawContent","Crypto","AES","decrypt","toString","enc","Utf8","JSON","parse","encrypt","stringify","Component","Data","jwt","app","fetch","api","endpoints","projects","method","headers","then","response","json","instances","Object","i","ID","bind","fetchProjects","date","timesheets","getISODate","data","monday","Monday","fetchTimeSheet","myDate","today","getDay","subtractDays","setDate","getDate","getMonday","dd","String","padStart","mm","getMonth","getFullYear","JWT","token","valid","parts","split","atob","input","pad","replace","Error","Array","join","decodeToken","now","Math","round","getTime","nbf","exp","start","end","Session","userToken","logout","to","session","refreshTokenBeforeSeconds","refresh","text","User","window","location","pathname","includes","children","Index","onSuccess","isLoading","login","google","values","id_token","moveToLoggedIn","cleaningServicesPricing","services","map","item","className","Name","Price","Sessions","Hours","href","contact","email","mobile","style","paddingTop","pages","homepage","menu","title","src","alt","subtitle","Image","Description","sections","whyUse","reasons","testimonials","comments","author","App","exact","path","render","routeProps","document","getElementById"],"mappings":"sPAOqBA,E,kDACjB,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQ,CACTC,OAAQC,IAAKC,KCXb,27DDQW,E,iDAOnB,WACI,KAAGC,KAAKJ,MAAMC,OAAOI,YAAYC,GAAGC,OAAS,GAA7C,CAIA,IACIC,GADU,IAAIC,KACOC,IAAIN,KAAKJ,MAAMC,OAAOI,YAAYC,GAA9BF,gBAC7B,SAAII,GAAcA,EAAWD,OAAS,IAG/BC,K,2BAGX,SAAcG,EAAKC,GACf,KAAGR,KAAKJ,MAAMC,OAAOI,YAAYC,GAAGC,OAAS,GAA7C,CAIA,IAAIM,EAAU,IAAIJ,IACdK,EAAS,IAAIC,KACjBD,EAAOE,SAASF,EAAOG,WAAaL,GACpCC,EAAQK,IAAId,KAAKJ,MAAMC,OAAOI,YAAYC,GAA9BF,eAAwDO,EAAK,CAAEQ,QAASL,O,mBAGxF,WACOV,KAAKJ,MAAMC,OAAOI,YAAYC,GAAGC,OAAS,GAI7CH,KAAKgB,SAAS,CACVC,YAAY,M,oBAIpB,WACIjB,KAAKgB,SAAS,CACVC,YAAY,M,iBAIpB,SAAIC,EAAMX,GACN,KAAGP,KAAKJ,MAAMC,OAAOI,YAAYC,GAAGC,OAAS,GAA7C,CAIA,GAAGH,KAAKJ,OAASI,KAAKJ,MAAMsB,EAAO,IAAMX,GACrC,OAAOP,KAAKJ,MAAMsB,EAAO,IAAMX,GAGnC,GAAIP,KAAKmB,gBAAT,CAIc,IAAId,IAAlB,IACID,EAAaJ,KAAKmB,gBAClBC,EAAaC,IAAGf,IAAIN,KAAKJ,MAAMC,OAAOI,YAAYC,GAAK,IAAMgB,EAAO,IAAMX,GAC1Ee,EAAU,GACd,GAAGlB,GAAcgB,GAAchB,EAAWD,OAAS,GAAKiB,EAAWjB,OAAS,EAAG,CAC3E,IAAIoB,EAAsBC,IAAOC,IAAIC,QAAQN,EAAYhB,GAAYuB,SAASH,IAAOI,IAAIC,MACtFN,EAAoBpB,OAAS,IAC5BmB,EAAUQ,KAAKC,MAAMR,IAG7B,OAAOD,M,iBAGX,SAAIJ,EAAMX,EAAKe,GACRtB,KAAKJ,MAAMC,OAAOI,YAAYC,GAAGC,OAAS,IAI7CH,KAAKgB,SAAL,eACKE,EAAO,IAAMX,EAAMe,IAGpBtB,KAAKmB,iBAGTE,IAAGP,IAAId,KAAKJ,MAAMC,OAAOI,YAAYC,GAAK,IAAMgB,EAAO,IAAMX,EAAKiB,IAAOC,IAAIO,QAAQF,KAAKG,UAAUX,GAAUtB,KAAKmB,iBAAiBQ,e,wBAGxI,WACI,QAAG3B,KAAKJ,MAAMC,OAAOI,YAAYC,GAAGC,OAAS,IAItCH,KAAKJ,MAAMqB,a,oBAGtB,WACI,OAAOjB,KAAKJ,MAAMC,W,GAlGeqC,a,cEItBA,YCXJ,SAASC,EAAKvC,EAAOwC,GAChC,OAAGxC,EAAMyC,IAAI/B,IAAI,SAAU,gBAS/B,SAAuBV,EAAOwC,GAC1BE,MAAM1C,EAAMyC,IAAIxC,SAAS0C,IAAIC,UAAUC,SAASH,MAAO,CACnDI,OAAQ,MACRC,QAAS,CACL,IAAOP,KAEZQ,MAAK,SAASC,GACb,OAAOA,EAASC,UACjBF,KAAK,SAASG,GAEb,IADA,IAAIN,EAAWO,SACPC,EAAI,EAAGA,EAAIF,EAAU5C,OAAQ8C,IACjCR,EAASM,EAAUE,GAAGC,IAAMH,EAAUE,GAE1CrD,EAAMyC,IAAIvB,IAAI,WAAY2B,EAAU,gBACtCU,KAAKnD,OApBPoD,CAAcxD,EAAOwC,GAuBzB,SAAwBiB,EAAMzD,EAAOwC,GACjCE,MAAM1C,EAAMyC,IAAIxC,SAAS0C,IAAIC,UAAUc,WAAWhB,MAAQiB,EAAWF,GAAO,CACxEX,OAAQ,MACRC,QAAS,CACL,IAAOP,KAEZQ,MAAK,SAASC,GACb,OAAOA,EAASC,UACjBF,KAAK,SAASY,GACb,IAAIC,EAAS,IAAI9C,KAAK6C,EAAKE,QAC3B9D,EAAMyC,IAAIvB,IAAIyC,EAAWE,GAASD,EAAM,eAC1CL,KAAKnD,OAjCP2D,CA2CJ,SAAmBN,GACf,IAAIO,EAAS,IAAIjD,KAAK0C,GAClBQ,EAAQR,EAAKS,SACbC,EAAe,EAGfA,EADQ,GAATF,EACgB,EAEAD,EAAOE,SAAW,EAGlCC,EAAe,GACdH,EAAOI,QAAQJ,EAAOK,UAAYF,GAGtC,OAAOH,EA1DQM,CAAU,IAAIvD,MAASf,EAAOwC,GAC7CxC,EAAMyC,IAAIvB,IAAI,UAAU,EAAM,eAJnB,6BAuCf,SAASyC,EAAWF,GAChB,IAAIc,EAAKC,OAAOf,EAAKY,WAAWI,SAAS,EAAG,KACxCC,EAAKF,OAAOf,EAAKkB,WAAa,GAAGF,SAAS,EAAG,KAEjD,OADWhB,EAAKmB,cACF,IAAMF,EAAK,IAAMH,EC7CpB,SAASM,EAAIC,GAExB,IAAIA,GAASA,EAAMvE,OAAS,EACxB,MAAO,CACHmB,QAAS,GACTqD,OAAO,GAIf,IAAIC,EAAQF,EAAMG,MAAM,KACxB,GAAmB,GAAhBD,EAAMzE,OACL,MAAO,CACHmB,QAAS,GACTqD,OAAO,GAIfD,EAAQ5C,KAAKC,MAAM+C,KAiBvB,SAAqBC,GAOjB,IAAIC,GALJD,EAAQA,EACHE,QAAQ,KAAM,KACdA,QAAQ,KAAM,MAGH9E,OAAS,EACzB,GAAG6E,EAAK,CACJ,GAAW,IAARA,EACC,MAAM,IAAIE,MAAM,uFAEpBH,GAAS,IAAII,MAAM,EAAEH,GAAKI,KAAK,KAGnC,OAAOL,EAhCiBM,CAAYT,EAAM,MAC1C,IAAIU,EAAMC,KAAKC,OAAO,IAAI7E,MAAQ8E,UAAY,KAC9C,OAAGf,EAAMgB,IAAMJ,GAAOA,GAAOZ,EAAMiB,IACxB,CACHrE,QAAS,GACTqD,OAAO,GAIR,CACHiB,MAAOlB,EAAMgB,IACbG,IAAKnB,EAAMiB,IACXrE,QAASoD,EACTC,OAAO,GCzBA,SAASmB,EAAQnG,GAC5B,GAAIA,EAAMC,MAAMyC,IAAIpB,aAKb,CAEH,IAAI8E,EAAYpG,EAAMC,MAAMyC,IAAI/B,IAAI,OAAQ,SACxCgF,EAAMC,KAAKC,OAAO,IAAI7E,MAAQ8E,UAAY,KAC9C,GAAGM,EAAUF,IAAMP,EAEf,OADA3F,EAAMC,MAAMyC,IAAI2D,SACT,cAAC,IAAD,CAAUC,GAAG,MAwBxB,GArBGX,EAAOS,EAAUF,IAAMlG,EAAMC,MAAMyC,IAAIxC,SAASqG,QAAQC,2BACvD7D,MAAM3C,EAAMC,MAAMyC,IAAIxC,SAAS0C,IAAIC,UAAU0D,QAAQE,QAAS,CAC1D1D,OAAQ,MACRC,QAAS,CACL,IAAOhD,EAAMC,MAAMwC,OAExBQ,MAAK,SAASC,GACb,OAAOA,EAASwD,UACjBzD,MAAK,SAASY,GACb,IAAIkB,EAAQD,EAAIjB,GACbkB,EAAMC,QACLD,EAAMpD,QAAQgF,KAAOxE,KAAKC,MAAM2C,EAAMpD,QAAQgF,MAE9CtG,KAAKJ,MAAMyC,IAAIvB,IAAI,MAAO0C,EAAM,oBAChCxD,KAAKJ,MAAMyC,IAAIvB,IAAI,QAAS4D,EAAO,oBACnC1E,KAAKJ,MAAMyC,IAAIvB,IAAI,OAAQ4D,EAAMpD,QAAQgF,KAAM,wBAM5B,WAA5BC,OAAOC,SAASC,SAEf,OADA9G,EAAMC,MAAMyC,IAAI2D,SACT,cAAC,IAAD,CAAUC,GAAG,MAEjB,IAAIM,OAAOC,SAASC,SAASC,SAAS,OACzC,OAAO,cAAC,IAAD,CAAUT,GAAG,wBAtCxB,GAAGM,OAAOC,SAASC,SAASC,SAAS,OACjC,OAAO,cAAC,IAAD,CAAUT,GAAG,MAyC5B,OACI,mCACKtG,EAAMgH,W,kBC7CEC,E,kDAEjB,WAAYjH,GAAQ,IAAD,8BACf,cAAMA,IACDC,MAAQD,EAAMC,MACnB,EAAKiH,UAAY,EAAKA,UAAU1D,KAAf,gBAHF,E,6CAMnB,c,uBAIH,SAAUN,GACT7C,KAAKgB,SAAS,CACb8F,WAAW,IAGZxE,MAAMtC,KAAKJ,MAAMyC,IAAIxC,SAAS0C,IAAIC,UAAUuE,MAAMC,OAAShE,OAAOiE,OAAOpE,GAAU,GAAGqE,SAAU,CAC/FxE,OAAQ,QACNE,MAAK,SAASC,GAChB,OAAOA,EAASwD,UACdzD,KAAK,SAASY,GAChB,IAAIkB,EAAQD,EAAIjB,GACbkB,EAAMC,QACRD,EAAMpD,QAAQgF,KAAOxE,KAAKC,MAAM2C,EAAMpD,QAAQgF,MAE9CtG,KAAKJ,MAAMyC,IAAI0E,MAAMrC,EAAMpD,QAAQgF,KAAKpD,IACxClD,KAAKJ,MAAMyC,IAAIvB,IAAI,MAAO0C,EAAM,oBAChCxD,KAAKJ,MAAMyC,IAAIvB,IAAI,QAAS4D,EAAO,oBACnC1E,KAAKJ,MAAMyC,IAAIvB,IAAI,OAAQ4D,EAAMpD,QAAQgF,KAAM,oBAC/CnE,EAAKnC,KAAKJ,MAAO4D,GAEjBxD,KAAKgB,SAAS,MAIdmC,KAAKnD,S,oBAGL,WACC,GAAGA,KAAKJ,MAAMuH,eAChB,OAAO,cAAC,IAAD,CAAUlB,GAAG,mBAGrB,IAAImB,EAA0BpH,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAASC,KAAI,SAACC,EAAMhH,GAAP,OAClE,sBAAKiH,UAAU,gBAAf,UACC,6BAAKD,EAAKE,OACV,qBAAKD,UAAU,aAAf,SACC,sCAAYD,EAAKG,WAElB,+BAAKH,EAAKI,SAAV,gBAAiCJ,EAAKK,MAAtC,YACA,6BAII,OACI,iCAER,qBAAKJ,UAAU,UAAf,SACC,qBAAKA,UAAU,YAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,+BAAf,SACC,qBAAKA,UAAU,SAAf,SACC,+BACC,6BAAI,mBAAGK,KAAK,IAAR,SAAY,mBAAGL,UAAU,uBAC7B,6BAAI,mBAAGK,KAAK,IAAR,SAAY,mBAAGL,UAAU,0BAC7B,6BAAI,mBAAGK,KAAK,IAAR,SAAY,mBAAGL,UAAU,uBAC7B,6BAAI,mBAAGK,KAAK,IAAR,SAAY,mBAAGL,UAAU,sBAC7B,6BAAI,mBAAGK,KAAK,IAAR,SAAY,mBAAGL,UAAU,+BAIhC,qBAAKA,UAAU,+BAAf,SACC,qBAAKA,UAAU,YAAf,SACC,oBAAGA,UAAU,YAAb,UAAyB,mBACxBA,UAAU,0BAA4B,iCAASxH,KAAKJ,MAAMyC,IAAIxC,SAASiI,QAAQC,eAGlF,qBAAKP,UAAU,qBAAf,SACC,qBAAKA,UAAU,YAAf,SACC,oBAAGA,UAAU,YAAb,UAAyB,mBACxBA,UAAU,gBAAkB,gDAAmBxH,KAAKJ,MAAMyC,IAAIxC,SAASiI,QAAQE,wBAMrF,qBAAKR,UAAU,iBAAf,SACC,qBAAKA,UAAU,YAAf,SACC,sBAAKA,UAAU,MAAf,UACC,sBAAKA,UAAU,uCAAf,UACC,oBAAIS,MAAO,CAACC,WAAY,QAAUV,UAAU,0CAA5C,SACC,mBAAGK,KAAK,IAAR,SAAa7H,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASC,KAAKC,UAE1D,oBAAIL,MAAO,CAACC,WAAY,QAAUV,UAAU,gCAA5C,SACC,mBAAGK,KAAK,IAAR,SAAa7H,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASC,KAAKC,aAG3D,qBAAKd,UAAU,uCAAf,SACC,qBAAKA,UAAU,aAAf,SACC,qBAAKtH,GAAG,aAAR,SACC,6BACC,oBAAIsH,UAAU,SAAd,SAAuB,mBAAGK,KAAK,IAAIS,MAAM,OAAlB,mCAU3B,qBAAKd,UAAU,SAAf,SACF,sBAAKA,UAAU,sBAAf,UACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,aAAf,cAA6B,qBAAKe,IAAI,uBAAuBC,IAAI,QACjE,qBAAKhB,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,wCAAf,SACC,sBAAKA,UAAU,kBAAf,UACC,oBAAIA,UAAU,eAAd,4CACA,mBAAGA,UAAU,wBAAb,qFAEA,mBAAGK,KAAK,aAAaL,UAAU,6CAA/B,wDAML,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,aAAf,SAA4B,qBAAKe,IAAI,uBAAuBC,IAAI,OAChE,qBAAKhB,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,yCAAf,SACC,sBAAKA,UAAU,kBAAf,UACC,oBAAIA,UAAU,eAAd,kDACA,mBAAGA,UAAU,wBAAb,2EACA,mBAAGK,KAAK,IAAIL,UAAU,6CAAtB,mCAML,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,aAAf,SAA4B,qBAAKe,IAAI,uBAAuBC,IAAI,OAChE,qBAAKhB,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,yCAAf,SACC,sBAAKA,UAAU,kBAAf,UACC,oBAAIA,UAAU,eAAd,gDACA,mBAAGA,UAAU,wBAAb,2EACA,mBAAGK,KAAK,IAAIL,UAAU,6CAAtB,4CASJ,qBAAKA,UAAU,eAAf,SACF,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,0CAAf,SACC,sBAAKA,UAAU,gBAAf,UAEC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASE,QAC5C,4BAAItI,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASK,kBAK9C,sBAAKjB,UAAU,MAAf,UACC,qBAAKA,UAAU,uCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,cAAf,UAA6B,mBAAGK,KAAK,IAAR,SAAY,qBAAKU,IAAKvI,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGqB,MAAOF,IAAI,GAAGhB,UAAU,qBAA/G,OACA,sBAAKA,UAAU,kBAAf,UACC,6BAAI,mBAAGK,KAAK,IAAR,SAAa7H,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGI,SACrD,4BAAIzH,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGsB,cACxC,mBAAGd,KAAK,IAAIL,UAAU,WAAtB,gCAIH,qBAAKA,UAAU,uCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,qBAAKA,UAAU,cAAf,SAA6B,oBAAGK,KAAK,IAAR,UAAY,qBAAKU,IAAKvI,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGqB,MAAOF,IAAI,GAAGhB,UAAU,mBAAlF,SAC7B,sBAAKA,UAAU,kBAAf,UACC,6BAAI,mBAAGK,KAAK,IAAR,SAAa7H,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGI,SACrD,4BAAIzH,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGsB,cACxC,mBAAGd,KAAK,IAAIL,UAAU,WAAtB,gCAIH,qBAAKA,UAAU,uCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,cAAf,UAA6B,mBAAGK,KAAK,IAAR,SAAY,qBAAKU,IAAKvI,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGqB,MAAOF,IAAI,GAAGhB,UAAU,qBAA/G,OACA,sBAAKA,UAAU,kBAAf,UACC,6BAAI,mBAAGK,KAAK,IAAR,SAAa7H,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGI,SACrD,4BAAIzH,KAAKJ,MAAMyC,IAAIxC,SAASwH,SAAS,GAAGsB,cACxC,mBAAGd,KAAK,IAAIL,UAAU,WAAtB,wCAQH,qBAAKA,UAAU,wBAAf,SACF,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,0CAAf,SACC,sBAAKA,UAAU,gBAAf,UAEC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOP,QAC5D,4BAAItI,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOJ,kBAK9D,sBAAKjB,UAAU,MAAf,UACC,qBAAKA,UAAU,wCAAf,SACC,sBAAKA,UAAU,qBAAf,UACC,sBAAKA,UAAU,eAAf,UAA8B,mBAAGA,UAAU,iBAA3C,OACA,sBAAKA,UAAU,kBAAf,UACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGR,QACvE,4BAAItI,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGxH,kBAIzE,qBAAKkG,UAAU,wCAAf,SACC,sBAAKA,UAAU,qBAAf,UACC,sBAAKA,UAAU,eAAf,UAA8B,mBAAGA,UAAU,iBAA3C,OACA,sBAAKA,UAAU,kBAAf,UACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGR,QACvE,4BAAItI,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGxH,kBAIzE,qBAAKkG,UAAU,wCAAf,SACC,sBAAKA,UAAU,qBAAf,UACC,sBAAKA,UAAU,eAAf,UAA8B,mBAAGA,UAAU,iBAA3C,OACA,sBAAKA,UAAU,kBAAf,UACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGR,QACvE,4BAAItI,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGxH,kBAIzE,qBAAKkG,UAAU,wCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UAA8B,mBAAGA,UAAU,iBAA3C,OACA,sBAAKA,UAAU,kBAAf,UACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGR,QACvE,4BAAItI,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGxH,kBAIzE,qBAAKkG,UAAU,wCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UAA8B,mBAAGA,UAAU,iBAA3C,OACA,sBAAKA,UAAU,kBAAf,UACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGR,QACvE,4BAAItI,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGxH,kBAIzE,qBAAKkG,UAAU,wCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UAA8B,mBAAGA,UAAU,iBAA3C,OACA,sBAAKA,UAAU,kBAAf,UACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGR,QACvE,4BAAItI,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASC,OAAOC,QAAQ,GAAGxH,0BAQzE,qBAAKkG,UAAU,0BAAf,SACF,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,0CAAf,SACC,qBAAKA,UAAU,gBAAf,SAEC,oBAAIA,UAAU,aAAd,iCAKH,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,UAGf,sBAAKA,UAAU,QAAf,UACC,qBAAKA,UAAU,aAAf,SACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASvB,SAASiB,UAE/D,sBAAKd,UAAU,cAAf,UAEEJ,EAED,qBAAKI,UAAU,mBAAf,SAAkC,mBAAGK,KAAK,IAAIL,UAAU,yBAAtB,yCAGpC,qBAAKA,UAAU,kBAOf,qBAAKA,UAAU,wBAAf,SACF,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,0CAAf,SACC,qBAAKA,UAAU,gBAAf,SAEC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASG,aAAaT,cAKrE,sBAAKd,UAAU,MAAf,UACC,qBAAKA,UAAU,uCAAf,SACC,sBAAKA,UAAU,oBAAf,UACC,qBAAKA,UAAU,sBAAf,SACC,uCAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASG,aAAaC,SAAS,GAAG1H,QAA9E,cAED,sBAAKkG,UAAU,mBAAf,UACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASG,aAAaC,SAAS,GAAGC,SAC9E,sCAASjJ,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASG,aAAaC,SAAS,GAAGV,MAAlF,gBAIH,qBAAKd,UAAU,uCAAf,SACC,sBAAKA,UAAU,oBAAf,UACC,qBAAKA,UAAU,sBAAf,SACC,uCAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASG,aAAaC,SAAS,GAAG1H,QAA9E,eAED,sBAAKkG,UAAU,mBAAf,UACC,6BAAKxH,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASG,aAAaC,SAAS,GAAGC,SAC9E,sCAASjJ,KAAKJ,MAAMyC,IAAIxC,SAASsI,MAAMC,SAASQ,SAASG,aAAaC,SAAS,GAAGV,MAAlF,mBAKJ,qBAAKd,UAAU,WAAf,SACC,qBAAKA,UAAU,sDAAf,SACC,mBAAGK,KAAK,IAAIL,UAAU,yBAAtB,4CAMD,qBAAKA,UAAU,cAAf,SACF,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,0CAAf,SACC,2DAA8BxH,KAAKJ,MAAMyC,IAAIxC,SAASiI,QAAQE,kBAM/D,qBAAKR,UAAU,SAAf,SACF,qBAAKA,UAAU,YAAf,SACC,sBAAKA,UAAU,MAAf,UAEC,qBAAKA,UAAU,uCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,oBAAIA,UAAU,eAAd,iCACA,kLAIA,qBAAKA,UAAU,GAAf,SACC,6BACC,+BAAI,qBAAKA,UAAU,GAAf,SAAkB,mBAAGA,UAAU,0BAAgC,qBAClEA,UAAU,iBADwD,uDAOvE,qBAAKA,UAAU,wCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,oBAAIA,UAAU,eAAd,0BACA,+BACC,6BAAI,mBAAGK,KAAK,IAAR,8BACJ,6BAAI,mBAAGA,KAAK,IAAR,gCACJ,6BAAI,mBAAGA,KAAK,IAAR,2CAKP,qBAAKL,UAAU,wCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,oBAAIA,UAAU,eAAd,yBACA,+BACC,6BAAI,mBAAGK,KAAK,IAAR,yBACJ,6BAAI,mBAAGA,KAAK,IAAR,yBACJ,6BAAI,mBAAGA,KAAK,IAAR,oBACJ,6BAAI,mBAAGA,KAAK,IAAR,6BACJ,mCAAK,mBAAGA,KAAK,IAAR,gCAKR,qBAAKL,UAAU,wCAAf,SACC,sBAAKA,UAAU,gBAAf,UACC,oBAAIA,UAAU,eAAd,2BACA,sBAAKA,UAAU,gBAAf,cAAgC,mBAAGK,KAAK,IAAR,SAAY,+BAAM,mBAAGL,UAAU,uBAA/D,IAAgG,oBAC/FK,KAAK,IAD0F,UACtF,+BAAM,mBAAGL,UAAU,wBADmE,OAAhG,IACkE,mBAAGK,KAAK,IAAR,SAAY,uBAC7EL,UAAU,SADmE,UAC1D,mBAAGA,UAAU,kBAD6C,SAD9E,IAEkE,mBAAGK,KAAK,IAAR,SAAY,iCAAM,mBACnFL,UAAU,qBADmE,SAF9E,IAG+C,mBAAGK,KAAK,IAAR,SAAY,+BAAM,mBAChEL,UAAU,uBAJX,mBAWF,qBAAKA,UAAU,cAAf,SACF,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,qBAAKA,UAAU,YAAf,iE,GAza4BtF,aCa7BxC,GChBiBwC,YCDEA,YCCLA,Y,kDHkBhB,WAAYvC,GAAQ,IAAD,8BACf,cAAMA,IAEDC,MAAQ,CACTyC,IAAK,IAAI6G,GAJE,E,0CAQnB,WAAU,IAAD,OACOlJ,KAAKJ,MAEjB,OAEI,cAAC,IAAD,UACI,eAAC,IAAD,WAGI,cAAC,IAAD,CAAOuJ,OAAK,EAACC,KAAK,IAAIC,OAAQ,SAAAC,GAAU,OAEpC,cAACxD,EAAD,CAASlG,MAAO,EAAKA,MAArB,SACI,cAAC,EAAD,CAAUA,MAAO,EAAKA,aAK9B,cAAC,IAAD,CAAOyJ,OAAQ,SAAAC,GAAU,OACrB,cAAC,IAAD,CAAUrD,GAAG,kB,GA5BX/D,cAsC1BmH,iBAAO,cAAC,EAAD,IAAiBE,SAASC,eAAe,U","file":"static/js/main.a9bff3ae.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport Configuration from '../config'\nimport Yaml from \"js-yaml\";\nimport Cookies from 'universal-cookie';\nimport Crypto from 'crypto-js';\nimport ls from 'local-storage';\n\nexport default class Application extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            config: Yaml.load(Configuration)\n        };\n    }\n\n    getSessionKey() {\n        if(this.state.config.application.id.length < 1) {\n            return\n        }\n\n        var cookies = new Cookies();\n        var sessionKey = cookies.get(this.state.config.application.id + \":\" + 'session.key');\n        if(!sessionKey || sessionKey.length < 1) {\n            return false\n        }\n        return sessionKey\n    }\n\n    setSessionKey(key, expireInHours) {\n        if(this.state.config.application.id.length < 1) {\n            return\n        }\n\n        var cookies = new Cookies();\n        var expiry = new Date()\n        expiry.setHours(expiry.getHours() + expireInHours)\n        cookies.set(this.state.config.application.id + \":\" + 'session.key', key, { expires: expiry})\n    }\n\n    login() {\n        if(this.state.config.application.id.length < 1) {\n            return\n        }\n\n        this.setState({\n            isLoggedIn: true\n        })\n    }\n\n    logout() {\n        this.setState({\n            isLoggedIn: false\n        })\n    }\n\n    get(area, key) {\n        if(this.state.config.application.id.length < 1) {\n            return\n        }\n\n        if(this.state && this.state[area + \":\" + key]) {\n            return this.state[area + \":\" + key];\n        }\n\n        if(!this.getSessionKey()) {\n            return\n        }\n\n        var cookies = new Cookies();\n        var sessionKey = this.getSessionKey();\n        var rawContent = ls.get(this.state.config.application.id + \":\" + area + \":\" + key);\n        var content = {}\n        if(sessionKey && rawContent && sessionKey.length > 0 && rawContent.length > 0) {\n            var encryptedRawContent = Crypto.AES.decrypt(rawContent, sessionKey).toString(Crypto.enc.Utf8)\n            if(encryptedRawContent.length > 0) {\n                content = JSON.parse(encryptedRawContent)\n            }\n        }\n        return content\n    }\n\n    set(area, key, content) {\n        if(this.state.config.application.id.length < 1) {\n            return\n        }\n\n        this.setState({\n            [area + \":\" + key]: content\n        })\n\n        if(!this.getSessionKey()) {\n            return\n        }\n        ls.set(this.state.config.application.id + \":\" + area + \":\" + key, Crypto.AES.encrypt(JSON.stringify(content), this.getSessionKey()).toString())\n    }\n\n    isLoggedIn() {\n        if(this.state.config.application.id.length < 1) {\n            return false\n        }\n\n        return this.state.isLoggedIn;\n    }\n\n    config() {\n        return this.state.config\n    }\n}","const config = `\ncontact:\n  mobile: 07931 756 126\n  email: info@nicolecartercleaning.com\npages:\n  homepage:\n    menu:\n      title: Nicole Carter Cleaning\n    title: Professional Cleaning Services\n    subtitle: Affordable and high quality clenaing for your home or commercial premises\n    sections:\n      whyUse:\n        title: Why Use Nicole Carter\n        subtitle: A friendly and flexible service provided by a hardworking entrepreneur who stands by the quality of her work\n        reasons:\n          - title: Hard Working\n            content: Your satisfaction is extremely important to me and I stand by the quality of my work\n          - title: Fast & Effective Service\n            content: I am available at short notice and can work to your timeframe to make sure your premises are spotless\n          - title: Third Reason\n            content: third reason content\n          - title: Fourth Reason\n            content: fourth reason content\n          - title: Fifth Reason\n            content: fifth reason content\n          - title: Sixth Reason\n            content: sixth reason content\n      testimonials:\n        title: Listen to what my customers have to say\n        comments:\n          - author: John Smith\n            title: Important Person\n            content: The most amazing service\n          - author: Bob Jones\n            title: Super VIP\n            content: Change my life\n      services:\n        title: My Services\nservices:\n  - Name: Basic Clean\n    Description: A basic clean of your house\n    Image: /img/clean-01.jpg\n    Sessions: 1\n    Price: 40\n    Hours: 4\n  - Name: Deep Clean\n    Description: A really deep clean of your house\n    Image: /img/clean-02.jpg\n    Price: 100\n    Sessions: 2\n    Hours: 4\n  - Name: Hoarder Home\n    Description: A complete clean of a hoarder house\n    Image: /img/clean-03.jpg\n    Price: 200\n    Sessions: 6\n    Hours: 8\n    \napplication:\n  id: nicole-carter-cleaning\n`\n\nexport default config","import React, { Component } from 'react'\nimport ls from 'local-storage'\n\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tLink,\n\tRedirect\n} from \"react-router-dom\";\n\nclass Menu extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = props.state\n\t\tthis.logOut = this.logOut.bind(this);\n\t}\n\n\tmenuBlockClass(root) {\n\t\tvar uri = window.location.pathname;\n\t\tif(uri.substring(0,root.length) == root) {\n\t\t\treturn \"nav-item dropdown active\";\n\t\t}\n\t\treturn \"nav-item dropdown\";\n\t}\n\n\tlogOut() {\n\t\tthis.state.updateApp('session', false)\n\t\tthis.state.updateApp('user', false)\n\n\t\tthis.setState({\n\t\t\tsession: false\n\t\t})\n\t}\n\n\tmenuBlockClass(root) {\n\t\tvar uri = window.location.pathname;\n\n\t\tif(uri.substring(0,root.length) == root) {\n\t\t\treturn \"nav-link active\";\n\t\t}\n\n\t\treturn \"nav-link\";\n\t}\n\n\trender() {\n\n\t\tvar user = false;\n\n\t\tif(this.state?.session?.User?.ShadowUserID.length > 0) {\n\n\t\t\tuser = this.state?.session?.User?.ShadowUserID;\n\n\t\t} else {\n\n\t\t\tuser = this.state?.session?.User;\n\t\t}\n\n\t\treturn (\n\n\t\t\t<span>\n\t\t\t\t<nav className=\"navbar navbar-lg navbar-expand-lg navbar-dark bg-primary\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<Link to=\"/account\" className=\"navbar-brand\">MyHours.me</Link>\n\t\t\t\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\n\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto mt-3 mt-lg-0\">\n\n\t\t\t\t\t\t\t\t{(() => {\n\n\t\t\t\t\t\t\t\t\tif(false) {\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t<li className={this.menuBlockClass(\"/superuser\")}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"nav-link dropdown-toggle\" style={{cursor: 'pointer'}} role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSuperUser &nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\">\n\t                                                    <Link to=\"/superuser/users\" className=\"dropdown-item\">Users</Link>\n\t                                                    <Link to=\"/superuser/invoices\" className=\"dropdown-item\">Invoices</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t})()}\n\n\t\t\t\t\t\t\t\t<li className=\"nav-item mr-5\">\n\t\t\t\t\t\t\t\t\t<Link to=\"/my/timesheets\" className={this.menuBlockClass(\"/my/timesheets\")}>Timesheets</Link>\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t\t<li className=\"nav-item mr-5\">\n\t\t\t\t\t\t\t\t\t<Link to=\"/my/projects\" className={this.menuBlockClass(\"/my/projects\")}>Projects</Link>\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t\t<li className=\"nav-item mr-5\">\n\t\t\t\t\t\t\t\t\t<Link to=\"/my/teams\" className={this.menuBlockClass(\"/my/teams\")}>Teams</Link>\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t\t<li className=\"nav-item mr-5\">\n\t\t\t\t\t\t\t\t\t<Link to=\"/instagram\" className=\"nav-link\">Reporting</Link>\n\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<div className=\"dropdown ml-5 d-none d-lg-block\">\n\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-white dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t\t\tYour Account &nbsp;\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\">\n            \t\t\t\t\t\t<Link to=\"/account/settings\" className=\"dropdown-item\">Settings</Link>\n\t\t\t\t\t\t\t\t\t<Link to=\"/account/billing\" className=\"dropdown-item\">Your Subscription</Link>\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown-divider\"></div>\n\t\t\t\t\t\t\t\t\t<Link to=\"/logout\" className=\"dropdown-item\">Log Out</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"dropdown mt-4 d-lg-none\">\n\t\t\t\t\t\t\t\t<button className=\"btn btn-outline-white dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t\t\tYour Account &nbsp;\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<div className=\"dropdown-menu\">\n\t\t\t\t\t\t\t\t\t<a className=\"dropdown-item\" href=\"/account/settings/\">Settings</a>\n\t\t\t\t\t\t\t\t\t<a className=\"dropdown-item\" href=\"/finance/invoices/\">Invoices</a>\n\t\t\t\t\t\t\t\t\t<div className=\"dropdown-divider\"></div>\n\t\t\t\t\t\t\t\t\t<Link to=\"/logout\" className=\"dropdown-item\">Log Out</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t</span>\n\n\n\t\t)\n\t}\n}\n\nexport default Menu\n","export default function Data(state, jwt) {\n    if(state.app.get('loaded', 'data-batch')) {\n        return <></>\n    }\n    fetchProjects(state, jwt)\n    fetchTimeSheet(getMonday(new Date()), state, jwt)\n    state.app.set('loaded', true, 'data-batch')\n    return <></>\n}\n\nfunction fetchProjects(state, jwt) {\n    fetch(state.app.config().api.endpoints.projects.fetch, {\n        method: 'GET',\n        headers: {\n            \"jwt\": jwt\n        },\n    }).then(function(response) {\n        return response.json();\n    }).then(function(instances) {\n        var projects = Object()\n        for(var i = 0; i < instances.length; i++) {\n            projects[instances[i].ID] = instances[i]\n        }\n        state.app.set('projects', projects, 'user-assets')\n    }.bind(this))\n}\n\nfunction fetchTimeSheet(date, state, jwt) {\n    fetch(state.app.config().api.endpoints.timesheets.fetch + getISODate(date), {\n        method: 'GET',\n        headers: {\n            \"jwt\": jwt\n        }\n    }).then(function(response) {\n        return response.json();\n    }).then(function(data) {\n        var monday = new Date(data.Monday)\n        state.app.set(getISODate(monday), data, 'timesheets')\n    }.bind(this))\n}\n\nfunction getISODate(date) {\n    var dd = String(date.getDate()).padStart(2, '0');\n    var mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n    var yyyy = date.getFullYear();\n    return yyyy + \"-\" + mm + \"-\" + dd\n}\n\nfunction getMonday(date) {\n    var myDate = new Date(date)\n    var today = date.getDay()\n    var subtractDays = 0\n\n    if(today == 0) {\n        subtractDays = 6\n    } else {\n        subtractDays = myDate.getDay() - 1\n    }\n\n    if(subtractDays > 0) {\n        myDate.setDate(myDate.getDate() - subtractDays)\n    }\n\n    return myDate\n}","export default function JWT(token) {\n\n    if(!token || token.length < 1) {\n        return {\n            content: '',\n            valid: false\n        }\n    }\n\n    var parts = token.split(\".\")\n    if(parts.length != 3) {\n        return {\n            content: '',\n            valid: false\n        }\n    }\n\n    token = JSON.parse(atob(decodeToken(parts[1])))\n    var now = Math.round((new Date()).getTime() / 1000)\n    if(token.nbf < now && now >= token.exp) {\n        return {\n            content: '',\n            valid: false\n        }\n    }\n\n    return {\n        start: token.nbf,\n        end: token.exp,\n        content: token,\n        valid: true\n    }\n}\n\nfunction decodeToken(input) {\n    // Replace non-url compatible chars with base64 standard chars\n    input = input\n        .replace(/-/g, '+')\n        .replace(/_/g, '/');\n\n    // Pad out with standard base64 required padding characters\n    var pad = input.length % 4;\n    if(pad) {\n        if(pad === 1) {\n            throw new Error('InvalidLengthError: Input base64url string is the wrong length to determine padding');\n        }\n        input += new Array(5-pad).join('=');\n    }\n\n    return input;\n}","import {Redirect} from \"react-router-dom\";\nimport React from \"react\";\nimport JWT from \"./JWT\";\nimport Data from \"./Data\";\n\nexport default function Session(props) {\n    if(!props.state.app.isLoggedIn()) {\n        // Logged out state\n        if(window.location.pathname.includes(\"/my\")) {\n            return <Redirect to='/' />\n        }\n    } else {\n        // Logged in state\n        var userToken = props.state.app.get('user', 'token')\n        var now = Math.round((new Date()).getTime() / 1000)\n        if(userToken.end < now) {\n            props.state.app.logout()\n            return <Redirect to='/' />\n        }\n\n        if(now > (userToken.end - props.state.app.config().session.refreshTokenBeforeSeconds)) {\n            fetch(props.state.app.config().api.endpoints.session.refresh, {\n                method: 'GET',\n                headers: {\n                    \"jwt\": props.state.jwt\n                },\n            }).then(function(response) {\n                return response.text();\n            }).then(function(data) {\n                var token = JWT(data)\n                if(token.valid) {\n                    token.content.User = JSON.parse(token.content.User)\n\n                    this.state.app.set('jwt', data, 'user-credentials')\n                    this.state.app.set('token', token, 'user-credentials')\n                    this.state.app.set('user', token.content.User, 'user-credentials')\n                }\n            })\n        }\n\n        // Logout handler\n        if(window.location.pathname == \"/logout\") {\n            props.state.app.logout()\n            return <Redirect to='/' />\n\n        } else if(!window.location.pathname.includes(\"/my\")) {\n            return <Redirect to='/my/timesheets' />\n        }\n    }\n\n    return (\n        <>\n            {props.children}\n        </>\n    )\n}","import React, {Component} from 'react'\nimport AppleLogin from 'react-apple-login'\nimport GoogleLogin from 'react-google-login'\nimport JWT from '../Components/JWT'\nimport Data from '../Components/Data'\nimport {Link, Redirect} from \"react-router-dom\";\n\nexport default class Index extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = props.state;\n        this.onSuccess = this.onSuccess.bind(this);\n    }\n\n    onFailure() {\n\n\t}\n\n\tonSuccess(response) {\n\t\tthis.setState({\n\t\t\tisLoading: true\n\t\t})\n\n\t\tfetch(this.state.app.config().api.endpoints.login.google + Object.values(response)[1].id_token, {\n\t\t\tmethod: 'GET',\n\t\t}).then(function(response) {\n\t\t\treturn response.text();\n\t\t}).then(function(data) {\n\t\t\tvar token = JWT(data)\n\t\t\tif(token.valid) {\n\t\t\t\ttoken.content.User = JSON.parse(token.content.User)\n\n\t\t\t\tthis.state.app.login(token.content.User.ID)\n\t\t\t\tthis.state.app.set('jwt', data, 'user-credentials')\n\t\t\t\tthis.state.app.set('token', token, 'user-credentials')\n\t\t\t\tthis.state.app.set('user', token.content.User, 'user-credentials')\n\t\t\t\tData(this.state, data)\n\n\t\t\t\tthis.setState({\n\t\t\t\t\t// moveToLoggedIn: true\n\t\t\t\t})\n\t\t\t}\n\t\t}.bind(this))\n\t}\n\n    render() {\n    \tif(this.state.moveToLoggedIn) {\n\t\t\treturn <Redirect to='/my/timesheets' />\n\t\t}\n\n\t\tvar cleaningServicesPricing = this.state.app.config().services.map((item, key) =>\n\t\t\t<div className=\"price-content\">\n\t\t\t\t<h3>{item.Name}</h3>\n\t\t\t\t<div className=\"price-text\">\n\t\t\t\t\t<h4>&pound;{item.Price}</h4>\n\t\t\t\t</div>\n\t\t\t\t<h4>{item.Sessions} sessions of {item.Hours} hours</h4>\n\t\t\t\t<hr />\n\t\t\t</div>\n\t\t)\n\n        return (\n            <span>\n\n\t\t\t\t<div className=\"top-bar\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-md-6 hidden-sm hidden-xs\">\n\t\t\t\t\t\t\t\t<div className=\"social\">\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\"><i className=\"fa fa-facebook\"></i></a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\"><i className=\"fa fa-google-plus\"></i></a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\"><i className=\"fa fa-linkedin\"></i></a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\"><i className=\"fa fa-twitter\"></i></a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\"><i className=\"fa fa-pinterest\"></i></a></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-md-3 hidden-sm hidden-xs\">\n\t\t\t\t\t\t\t\t<div className=\"call-info\">\n\t\t\t\t\t\t\t\t\t<p className=\"call-text\"><i\n\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-envelope-open-o\"></i><strong>{this.state.app.config().contact.email}</strong></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-md-3 col-sm-12\">\n\t\t\t\t\t\t\t\t<div className=\"call-info\">\n\t\t\t\t\t\t\t\t\t<p className=\"call-text\"><i\n\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-phone\"></i><strong>Call Now: {this.state.app.config().contact.mobile}</strong></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"header-wrapper\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-3 col-md-6 col-sm-6 col-xs-12\">\n\t\t\t\t\t\t\t\t<h3 style={{paddingTop: 10+'px'}} className=\"hidden visible-sm visible-md visible-lg\">\n\t\t\t\t\t\t\t\t\t<a href=\"/\">{this.state.app.config().pages.homepage.menu.title}</a>\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t<h3 style={{paddingTop: 10+'px'}} className=\"hidden visible-xs text-center\">\n\t\t\t\t\t\t\t\t\t<a href=\"/\">{this.state.app.config().pages.homepage.menu.title}</a>\n\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-6 col-sm-6 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"navigation\">\n\t\t\t\t\t\t\t\t\t<div id=\"navigation\">\n\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t<li className=\"active\"><a href=\"/\" title=\"Home\">Home</a></li>\n\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"slider\">\n\t\t\t\t\t<div className=\"owl-carousel slider\">\n\t\t\t\t\t\t<div className=\"item\">\n\t\t\t\t\t\t\t<div className=\"slider-img\"> <img src=\"/images/slider-1.jpg\" alt=\"\" /></div>\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-5 col-md-5 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"slider-captions\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"slider-title\">Domestic &amp; Commercial Cleaning</h1>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"slider-text hidden-xs\">Cleaning Services we are passionate about providing\n\t\t\t\t\t\t\t\t\t\ta flexible service.</p>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"about.html\" className=\"btn btn-default btn-lg hidden-sm hidden-xs\">Click Here for a Free Estimate</a>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"item\">\n\t\t\t\t\t\t\t<div className=\"slider-img\"><img src=\"/images/slider-2.jpg\" alt=\"\" /></div>\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-5 col-md-5 col-sm-12  col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"slider-captions\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"slider-title\">We help you to keep your place clean</h1>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"slider-text hidden-xs\">We use specialize and quality equipment tools for cleaning ! </p>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"btn btn-default btn-lg hidden-sm hidden-xs\">meet team</a>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"item\">\n\t\t\t\t\t\t\t<div className=\"slider-img\"><img src=\"/images/slider-3.jpg\" alt=\"\" /></div>\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-5 col-md-5 col-sm-12  col-xs-12\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"slider-captions\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"slider-title\">Quality work with Affordable price</h1>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"slider-text hidden-xs\">We brings professional cleaning services right to your home. </p>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"btn btn-default btn-lg hidden-sm hidden-xs\">view services</a>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-medium\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"section-title\">\n\n\t\t\t\t\t\t\t\t\t<h1>{this.state.app.config().pages.homepage.title}</h1>\n\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().pages.homepage.subtitle}</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"service-block\">\n\t\t\t\t\t\t\t\t\t<div className=\"service-img\"><a href=\"#\"><img src={this.state.app.config().services[0].Image} alt=\"\" className=\"img-responsive\" /></a> </div>\n\t\t\t\t\t\t\t\t\t<div className=\"service-content\">\n\t\t\t\t\t\t\t\t\t\t<h3><a href=\"#\">{this.state.app.config().services[0].Name}</a></h3>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().services[0].Description}</p>\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"btn-link\"> read more</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"service-block\">\n\t\t\t\t\t\t\t\t\t<div className=\"service-img\"><a href=\"#\"><img src={this.state.app.config().services[1].Image} alt=\"\" className=\"img-responsive\" /> </a></div>\n\t\t\t\t\t\t\t\t\t<div className=\"service-content\">\n\t\t\t\t\t\t\t\t\t\t<h3><a href=\"#\">{this.state.app.config().services[1].Name}</a></h3>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().services[1].Description}</p>\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"btn-link\"> read more</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"service-block\">\n\t\t\t\t\t\t\t\t\t<div className=\"service-img\"><a href=\"#\"><img src={this.state.app.config().services[2].Image} alt=\"\" className=\"img-responsive\" /></a> </div>\n\t\t\t\t\t\t\t\t\t<div className=\"service-content\">\n\t\t\t\t\t\t\t\t\t\t<h3><a href=\"#\">{this.state.app.config().services[2].Name}</a></h3>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().services[2].Description}</p>\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"btn-link\"> read more</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-medium bg-light\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"section-title\">\n\n\t\t\t\t\t\t\t\t\t<h1>{this.state.app.config().pages.homepage.sections.whyUse.title}</h1>\n\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().pages.homepage.sections.whyUse.subtitle}</p>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"feature-block mb30\">\n\t\t\t\t\t\t\t\t\t<div className=\"feature-icon\"><i className=\"icon-round68\"></i> </div>\n\t\t\t\t\t\t\t\t\t<div className=\"feature-content\">\n\t\t\t\t\t\t\t\t\t\t<h4>{this.state.app.config().pages.homepage.sections.whyUse.reasons[0].title}</h4>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().pages.homepage.sections.whyUse.reasons[0].content}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"feature-block mb30\">\n\t\t\t\t\t\t\t\t\t<div className=\"feature-icon\"><i className=\"icon-round68\"></i> </div>\n\t\t\t\t\t\t\t\t\t<div className=\"feature-content\">\n\t\t\t\t\t\t\t\t\t\t<h4>{this.state.app.config().pages.homepage.sections.whyUse.reasons[1].title}</h4>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().pages.homepage.sections.whyUse.reasons[1].content}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"feature-block mb30\">\n\t\t\t\t\t\t\t\t\t<div className=\"feature-icon\"><i className=\"icon-round68\"></i> </div>\n\t\t\t\t\t\t\t\t\t<div className=\"feature-content\">\n\t\t\t\t\t\t\t\t\t\t<h4>{this.state.app.config().pages.homepage.sections.whyUse.reasons[2].title}</h4>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().pages.homepage.sections.whyUse.reasons[2].content}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"feature-block\">\n\t\t\t\t\t\t\t\t\t<div className=\"feature-icon\"><i className=\"icon-round68\"></i> </div>\n\t\t\t\t\t\t\t\t\t<div className=\"feature-content\">\n\t\t\t\t\t\t\t\t\t\t<h4>{this.state.app.config().pages.homepage.sections.whyUse.reasons[3].title}</h4>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().pages.homepage.sections.whyUse.reasons[3].content}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"feature-block\">\n\t\t\t\t\t\t\t\t\t<div className=\"feature-icon\"><i className=\"icon-round68\"></i> </div>\n\t\t\t\t\t\t\t\t\t<div className=\"feature-content\">\n\t\t\t\t\t\t\t\t\t\t<h4>{this.state.app.config().pages.homepage.sections.whyUse.reasons[4].title}</h4>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().pages.homepage.sections.whyUse.reasons[4].content}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"feature-block\">\n\t\t\t\t\t\t\t\t\t<div className=\"feature-icon\"><i className=\"icon-round68\"></i> </div>\n\t\t\t\t\t\t\t\t\t<div className=\"feature-content\">\n\t\t\t\t\t\t\t\t\t\t<h4>{this.state.app.config().pages.homepage.sections.whyUse.reasons[5].title}</h4>\n\t\t\t\t\t\t\t\t\t\t<p>{this.state.app.config().pages.homepage.sections.whyUse.reasons[5].content}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-medium bg-default\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"section-title\">\n\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-white\">Pricing Plan </h1>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-2\">\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t<div className=\"price-head\">\n\t\t\t\t\t\t\t\t\t<h3>{this.state.app.config().pages.homepage.sections.services.title}</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"price-block\">\n\n\t\t\t\t\t\t\t\t\t{cleaningServicesPricing}\n\n\t\t\t\t\t\t\t\t\t<div className=\"text-center mt30\"><a href=\"#\" className=\"btn btn-primary btn-sm\">book your order now</a></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-2\">\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-medium bg-light\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"section-title\">\n\n\t\t\t\t\t\t\t\t\t<h1>{this.state.app.config().pages.homepage.sections.testimonials.title}</h1>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"testimonial-block\">\n\t\t\t\t\t\t\t\t\t<div className=\"testimonial-content\">\n\t\t\t\t\t\t\t\t\t\t<p>“{this.state.app.config().pages.homepage.sections.testimonials.comments[0].content}”</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"testimonial-meta\">\n\t\t\t\t\t\t\t\t\t\t<h5>{this.state.app.config().pages.homepage.sections.testimonials.comments[0].author}</h5>\n\t\t\t\t\t\t\t\t\t\t<span>( {this.state.app.config().pages.homepage.sections.testimonials.comments[0].title} )</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"testimonial-block\">\n\t\t\t\t\t\t\t\t\t<div className=\"testimonial-content\">\n\t\t\t\t\t\t\t\t\t\t<p>“{this.state.app.config().pages.homepage.sections.testimonials.comments[0].content}” </p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"testimonial-meta\">\n\t\t\t\t\t\t\t\t\t\t<h5>{this.state.app.config().pages.homepage.sections.testimonials.comments[0].author}</h5>\n\t\t\t\t\t\t\t\t\t\t<span>( {this.state.app.config().pages.homepage.sections.testimonials.comments[0].title} )</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"row mt30\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center\">\n\t\t\t\t\t\t\t\t<a href=\"#\" className=\"btn btn-default btn-lg\">view our testimonials</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"cta-section\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t\t<h1>Any questions? Call Now: {this.state.app.config().contact.mobile}</h1>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"footer\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"footer-widget\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"footer-title\">About Nicole Carter</h3>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tI am Nicole Carter. I have many years experience providing a quality, friendly and flexible cleaning service.\n\t\t\t\t\t\t\t\t\t\tI look forward to working with you.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t<li><div className=\"\"><i className=\"fa fa-envelope-open\"></i></div><div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"footer-address\">info@nicolecartercleaning.com</div></li>\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\" col-lg-3 col-md-3 col-sm-3 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"footer-widget\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"footer-title\">Our Services</h3>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Home Cleaning </a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Office Cleaning </a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Commercial Cleaning</a></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\" col-lg-2 col-md-2 col-sm-2 col-xs-12\">\n\t\t\t\t\t\t\t\t<div className=\"footer-widget\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"footer-title\">Quick Links</h3>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">About us </a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Services </a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Blog</a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"#\">Testimonials </a></li>\n\t\t\t\t\t\t\t\t\t\t<li> <a href=\"#\">Pricing</a></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"col-lg-2 col-md-3 col-sm-2 col-xs-12 \">\n\t\t\t\t\t\t\t\t<div className=\"footer-widget\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"footer-title\">Share With us</h3>\n\t\t\t\t\t\t\t\t\t<div className=\"footer-social\"> <a href=\"#\"><span><i className=\"fa fa-facebook\"></i></span></a> <a\n\t\t\t\t\t\t\t\t\t\thref=\"#\"><span><i className=\"fa fa-google-plus\"></i></span> </a> <a href=\"#\"><span\n\t\t\t\t\t\t\t\t\t\tclassName=\"active\"><i className=\"fa fa-twitter\"></i> </span></a> <a href=\"#\"><span><i\n\t\t\t\t\t\t\t\t\t\tclassName=\" fa fa-pinterest\"></i> </span></a> <a href=\"#\"><span><i\n\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-linkedin\"></i></span></a> </div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"tiny-footer\">\n\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-md-12\">copyright@cleaning. All right reserved</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t</span>\n        )\n    }\n}","import React, { Component } from 'react'\nimport { render } from 'react-snapshot'\nimport ReactDOM from 'react-dom';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route, Redirect\n} from \"react-router-dom\";\nimport ls from 'local-storage';\n\nimport App from './Components/Application'\nimport Page from './Components/Page'\nimport Session from './Components/Session'\nimport SiteRoot from './Public/index'\nimport Projects from './Secure/projects'\nimport TimeSheets from './Secure/timesheets'\nimport Teams from './Secure/teams'\nimport config from './config.js'\nimport Yaml from \"js-yaml\";\n\nclass Application extends Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            app: new App(),\n        };\n    }\n\n    render() {\n        var state = this.state;\n\n        return (\n\n            <Router>\n                <Switch>\n\n                    {/* Public Pages */}\n                    <Route exact path=\"/\" render={routeProps => (\n\n                        <Session state={this.state}>\n                            <SiteRoot state={this.state} />\n                        </Session>\n                    )}/>\n\n                    {/* Catch All */}\n                    <Route render={routeProps => (\n                        <Redirect to=\"/\" />\n                    )}/>\n                </Switch>\n            </Router>\n        )\n    }\n}\n\n\n\nrender(<Application />, document.getElementById('root'))\n","import React, { Component } from 'react'\nimport ls from \"local-storage\";\nimport {Redirect} from \"react-router-dom\";\n\nclass Projects extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = props.state;\n        this.addProject = this.addProject.bind(this);\n        this.getProjects = this.getProjects.bind(this);\n        this.disableAutoFocus = this.disableAutoFocus.bind(this)\n    }\n\n    componentDidMount() {\n        this.getProjects();\n        document.addEventListener(\"keydown\", function(event) {\n            if(event.keyCode == 13) {\n                switch(this.state.targetAction) {\n                    case 'create':\n                        document.getElementById('createButton').click()\n                        break\n                }\n\n                this.setState({\n                    targetAction: false,\n                })\n            }\n        }.bind(this))\n    }\n\n    disableAutoFocus() {\n        document.getElementById('searchTarget').innerText = '';\n        setTimeout(() => {\n            this.setState({\n                targetAction: 'create'\n            })\n\n            var descriptionField = document.getElementById('description')\n            if(descriptionField) {\n                descriptionField.focus()\n            }\n\n        }, 400)\n    }\n\n    enableAutoFocus() {\n        document.getElementById('searchTarget').innerText = 'search';\n    }\n\n    getProjects() {\n        fetch(this.state.config.api.endpoints.projects.fetch, {\n            method: 'GET',\n            headers: {\n                \"jwt\": this.state.jwt\n            },\n        }).then(function(response) {\n            return response.json();\n        }).then(function(instances) {\n            var projects = this.state.projects\n            if(!projects) {\n                projects = Object()\n            }\n\n            for(var i = 0; i < instances.length; i++) {\n                projects[instances[i].ID] = instances[i]\n            }\n\n            this.state.updateApp('projects', projects)\n            this.setState({\n                projects: projects\n            })\n        }.bind(this))\n    }\n\n    addProject() {\n        this.setState({\n            creating: true\n        })\n\n        this.enableAutoFocus()\n        var myProject = {\n            Description: document.getElementById('description').value,\n            TeamID: document.getElementById('team').value\n        }\n\n        fetch(this.state.config.api.endpoints.projects.create, {\n            method: 'POST',\n            body: JSON.stringify(myProject),\n            headers: {\n                \"jwt\": this.state.jwt\n            },\n        }).then(function(response) {\n            return response.json();\n        }).then(function(instances) {\n            document.getElementById('description').value = '';\n            var projects = this.state.projects\n            if(!projects) {\n                projects = Object()\n            }\n\n            projects[instances.ID] = instances\n            JSON.stringify(projects)\n            this.state.updateApp('projects', projects)\n\n            this.setState({\n                projects: projects,\n                creating: false,\n                targetAction: false\n            })\n\n        }.bind(this))\n    }\n\n    doMouseDown(e) {\n        window[e.currentTarget.dataset.id] = false\n    }\n\n    doMouseMove(e) {\n        window[e.currentTarget.dataset.id] = true\n    }\n\n    doMouseUp(e) {\n        if(!window[e.currentTarget.dataset.id]) {\n            this.setState({\n                destination: e.currentTarget.dataset.href\n            })\n        }\n    }\n\n    filterProjects() {\n        var searchString = document.getElementById(document.getElementById('searchTarget').innerText).value;\n        var searchStyle = document.getElementById('search_style');\n\n        if(searchString.length > 2) {\n            searchStyle.innerHTML = \".searchable:not([data-index*=\\\"\" + searchString.toLowerCase() + \"\\\"]) { display: none; }\";\n        } else {\n            searchStyle.innerHTML = \"\";\n        }\n    }\n\n    render() {\n        if(this.state.destination) {\n            return <Redirect to={this.state.destination} />\n        }\n\n        var teamRows\n        if(this.state.teams) {\n            teamRows = Object.keys(this.state.teams).map((item, key) =>\n                <option value={this.state.teams[item].ID}>{this.state.teams[item].Description}</option>\n\n            )\n        }\n\n        var tableRows\n        if(this.state.projects) {\n            var projects = new Object()\n            var i\n            for (i = 0; i < Object.keys(this.state.projects).length; i++) {\n\n                var project = this.state.projects[Object.keys(this.state.projects)[i]]\n\n                if(this.state.teams && this.state.teams[project.TeamID]) {\n\n                    projects[project.ID] = project\n                }\n            }\n\n            tableRows = Object.keys(projects).map((item, key) =>\n\n                <tr className=\"data-row searchable\" key={projects[item].ID} onMouseDown={this.doMouseDown} onMouseMove={this.doMouseMove} onClick={this.doMouseUp} data-index={projects[item].Description.toLowerCase()} data-href={\"/projects/\" + projects[item].ID} data-id={projects[item].ID}>\n\n                    <td>{projects[item].Description}</td>\n                    <td>{this.state.teams[projects[item].TeamID].Description}</td>\n\n                    {(() => {\n\n                        if(projects[item].Members) {\n\n                            return (\n\n                                <td>{Object.keys(projects[item].Members).length}</td>\n                            )\n\n                        } else {\n\n                            return (\n\n                                <td>0</td>\n                            )\n                        }\n\n                    })()}\n\n                    {(() => {\n\n                        if(new Date(projects[item].Start).getFullYear() == 0) {\n\n                            return (\n\n                                <td>--</td>\n                            )\n\n                        } else {\n\n                            var startDate = new Date(projects[item].Start)\n                            var startDateStr = String(startDate.getDate()).padStart(2, '0');\n                            startDateStr = startDateStr + \"/\" + String(startDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n                            startDateStr = startDateStr + \"/\" + startDate.getFullYear();\n\n                            return (\n\n                                <td>{startDateStr}</td>\n                            )\n                        }\n\n                    })()}\n\n                    {(() => {\n\n                        if(new Date(projects[item].End).getFullYear() == 0) {\n\n                            return (\n\n                                <td>--</td>\n                            )\n\n                        } else {\n\n                            var endDate = new Date(projects[item].End)\n                            var endDateStr = String(endDate.getDate()).padStart(2, '0');\n                            endDateStr = endDateStr + \"/\" + String(endDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n                            endDateStr = endDateStr + \"/\" + endDate.getFullYear();\n\n                            return (\n\n                                <td>{endDateStr}</td>\n                            )\n                        }\n\n                    })()}\n                </tr>\n\n            )\n        }\n\n        return (\n\n            <>\n\n                <span hidden id=\"searchTarget\">search</span>\n\n                {(() => {\n\n                    if(projects && Object.keys(projects).length > 0) {\n\n                        return (\n\n                            <span>\n\n                                 <div className=\"row mb-3\">\n                                    <div className=\"col-12\">\n\n                                        {(() => {\n\n                                            if(this.state.creating) {\n\n                                                return (\n\n                                                    <button className=\"btn btn-primary fa-pull-right\">\n                                                        <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> &nbsp; Creating ...\n                                                    </button>\n                                                )\n\n                                            } else {\n\n                                                return (\n\n                                                    <button className=\"btn btn-primary fa-pull-right\" data-toggle=\"modal\" data-target=\"#addProject\" onClick={this.disableAutoFocus}>\n                                                        Create A New Project\n                                                    </button>\n                                                )\n                                            }\n                                        })()}\n\n                                    </div>\n                                </div>\n\n                                <div className=\"card mb-3\">\n                                    <div className=\"card-body\">\n                                        <input className=\"form-control\" type=\"text\" id=\"search\" placeholder=\"Search your projects\" onChange={this.filterProjects} autoFocus />\n                                    </div>\n                                </div>\n\n                                <div className=\"card\">\n                                    <div className=\"card-body pb-0\">\n                                        <table id=\"userTable\" className=\"table table-hover\">\n                                            <thead>\n                                            <tr>\n                                                <th scope=\"col\" className=\"d-none d-md-table-cell\">Project</th>\n                                                <th scope=\"col\" className=\"d-none d-md-table-cell\">Team</th>\n                                                <th scope=\"col\" className=\"d-none d-md-table-cell\">Members</th>\n                                                <th scope=\"col\" className=\"d-none d-md-table-cell\">Start</th>\n                                                <th scope=\"col\" className=\"d-none d-md-table-cell\">End</th>\n                                            </tr>\n                                            </thead>\n                                            <tbody id=\"tableBody\">{tableRows}</tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </span>\n                        )\n\n                    } else {\n\n                        if(!this.state.teams || Object.keys(this.state.teams).length < 1) {\n\n                            return (\n\n                                <span>\n                                    <div className=\"alert alert-danger mt-4\" role=\"alert\">\n                                        <strong>No Teams</strong> - You must create or join a team before you create a project\n                                    </div>\n                                </span>\n                            )\n\n                        } else {\n\n                            return (\n\n                                <span>\n                                    <div className=\"alert alert-primary mt-4\" role=\"alert\">\n                                        <div className=\"row\">\n                                            <div className=\"col-6 mt-2\">\n                                                <strong>No Projects</strong> - You have no projects - create your first one now.\n                                            </div>\n                                            <div className=\"col-6\">\n                                                {(() => {\n\n                                                    if(this.state.creating) {\n\n                                                        return (\n\n                                                            <button className=\"btn btn-primary fa-pull-right\">\n                                                                <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> &nbsp; Creating ...\n                                                            </button>\n                                                        )\n\n                                                    } else {\n\n                                                        return (\n\n                                                            <button className=\"btn btn-primary fa-pull-right\" data-toggle=\"modal\" data-target=\"#addProject\" onClick={this.disableAutoFocus}>\n                                                                Create A New Project\n                                                            </button>\n                                                        )\n                                                    }\n                                                })()}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </span>\n                            )\n                        }\n                    }\n\n                })()}\n\n                <div className=\"modal fade\" id=\"addProject\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"addProjectTitle\" aria-hidden=\"true\">\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\" id=\"addProjectTitle\">Create A Project</h5>\n                            </div>\n                            <div className=\"modal-body\">\n                                <p>\n                                    Enter a description and choose a team for your project\n                                </p>\n                                <hr />\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"description\" className=\"col-form-label\">Description:</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"description\" />\n                                </div>\n\n                                <hr />\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"team\" className=\"col-form-label\">Team:</label>\n                                    <select className=\"form-control\" id=\"team\">\n                                        {teamRows}\n                                    </select>\n                                </div>\n\n                            </div>\n                            <div className=\"modal-footer\">\n\n                                <button className=\"btn btn-primary text-right\" data-dismiss=\"modal\" id=\"createButton\" onClick={this.addProject}>Create A Project</button>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </>\n        )\n    }\n}\n\nexport default Projects;","import React, { Component } from 'react'\nimport Application from '../Components/Application'\n\nclass TimeSheets extends Component {\n\n    constructor(props) {\n        super(props)\n        var state = props.state;\n\n        if(props.date == null) {\n            var chosenDate = new Date()\n        } else {\n            var chosenDate = this.getMonday(new Date(props.date))\n        }\n\n        // Work out the start of the actual current week\n        var monday = new Date(this.getISODate(this.getMonday(chosenDate)))\n\n        if(this.getISODate(chosenDate) != this.getISODate(monday)) {\n            chosenDate = monday\n        }\n\n        // What day are we modelling at the moment?\n        state[\"chosenDate\"] = chosenDate\n        state[\"monday\"] = monday\n\n        var sunday = new Date(this.getISODate(monday))\n        sunday.setDate(sunday.getDate() + 6)\n        state['sunday'] = sunday\n\n        state['thisActualWeek'] = this.getMonday(new Date())\n\n        if(!state['timeSheet']) {\n            state['timeSheet'] = {\n                Monday: monday,\n                UserID: state.User,\n                Projects: {},\n                Approval: {\n                    Submitted: false\n                }\n            }\n        }\n\n        this.state = state\n\n        this.jumpBackAWeek = this.jumpBackAWeek.bind(this);\n        this.jumpForwardAWeek = this.jumpForwardAWeek.bind(this);\n        this.addAnotherLine = this.addAnotherLine.bind(this);\n        this.addProject = this.addProject.bind(this);\n        this.submitTimesheet = this.submitTimesheet.bind(this);\n        this.loadTimesheet = this.loadTimesheet.bind(this);\n        this.clearTheGrid = this.clearTheGrid.bind(this);\n        this.setWeek = this.setWeek.bind(this);\n    }\n\n    componentDidMount() {\n        this.fetchTimeSheet(this.state.monday);\n        this.timesheetPrefetch();\n    }\n\n    componentDidUpdate() {\n        this.loadTimesheet()\n    }\n\n    setWeek(date) {\n        this.setState({\n            monday: this.getMonday(date),\n            sunday: this.getMonday(date).setDate(this.getMonday(date) + 7)\n        })\n    }\n\n    timesheetPrefetch() {\n        var i\n        var currentWeek = new Date(this.state.chosenDate)\n        for(i = 2; i > 0; i--) {\n            currentWeek.setDate(currentWeek.getDate() - 7)\n            this.fetchTimeSheet(currentWeek)\n        }\n    }\n\n    fetchTimeSheet(date) {\n        date = this.getMonday(date)\n\n        if(this.state.app.get(this.getISODate(date), 'timesheets') && this.getISODate(this.state.monday) == this.getISODate(date)) {\n            this.setState({\n                timesheet: this.state.app.get(this.getISODate(date), 'timesheets')\n            }, () => {\n                this.loadTimesheet()\n            })\n        }\n\n        fetch(this.state.app.config().api.endpoints.timesheets.fetch + this.getISODate(date), {\n            method: 'GET',\n            headers: {\n                \"jwt\": this.state.jwt\n            }\n        }).then(function(response) {\n            return response.json();\n        }).then(function(data) {\n            var monday = new Date(data.Monday)\n            this.state.app.set(this.getISODate(monday), data, 'timesheets')\n\n            if(this.getISODate(monday) == this.getISODate(this.state.monday)) {\n                this.setState({\n                    timesheet: data,\n                    ['timesheets_' + this.getISODate(monday)]: data\n                }, () => {\n                    this.loadTimesheet()\n                })\n            }\n        }.bind(this))\n    }\n\n    getMonday(date) {\n\n        var myDate = new Date(date)\n        var today = date.getDay()\n        var subtractDays = 0\n\n        if(today == 0) {\n\n            subtractDays = 6\n\n        } else {\n\n            subtractDays = myDate.getDay() - 1\n        }\n\n        if(subtractDays > 0) {\n\n            myDate.setDate(myDate.getDate() - subtractDays)\n        }\n\n        return myDate\n    }\n\n    getISODate(date) {\n        var dd = String(date.getDate()).padStart(2, '0');\n        var mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n        var yyyy = date.getFullYear();\n        return yyyy + \"-\" + mm + \"-\" + dd\n    }\n\n    getHumanDate(date) {\n        var dd = String(date.getDate()).padStart(2, '0');\n        var mm = String(date.getMonth() + 1).padStart(2, '0'); //January is 0!\n        var yyyy = date.getFullYear();\n\n        return dd + '/' + mm + '/' + yyyy;\n    }\n\n    jumpBackAWeek() {\n        var monday = new Date(this.state.monday)\n        var sunday = new Date(this.state.sunday)\n        monday.setDate(monday.getDate() - 7)\n        sunday.setDate(sunday.getDate() - 7)\n\n        this.setState({\n            chosenDate: monday,\n            monday: monday,\n            sunday: sunday,\n        }, () => {\n            this.fetchTimeSheet(monday)\n            this.timesheetPrefetch()\n        })\n\n        window.history.replaceState(\"\", \"\", \"/my/timesheets/\" + this.getISODate(monday ))\n    }\n\n    jumpForwardAWeek() {\n        var monday = new Date(this.state.monday)\n        var sunday = new Date(this.state.sunday)\n        monday.setDate(monday.getDate() + 7)\n        sunday.setDate(sunday.getDate() + 7)\n\n        this.setState({\n            chosenDate: monday,\n            monday: monday,\n            sunday: sunday,\n        }, () => {\n            this.fetchTimeSheet(monday)\n            this.timesheetPrefetch()\n        })\n\n        window.history.replaceState(\"\", \"\", \"/my/timesheets/\" + this.getISODate(monday ))\n    }\n\n    cleanseTimesheet(timeSheet) {\n        if(!timeSheet) {\n            return\n        }\n\n        var days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\n        var keys = new Array();\n\n        if(timeSheet && timeSheet.Projects) {\n            keys = Object.keys(timeSheet.Projects)\n        }\n\n        var i\n        for(i = 0; i < keys.length; i++) {\n            var project = timeSheet.Projects[keys[i]]\n            var totalTime = 0\n            var n\n            for(n = 0; n < days.length; n++) {\n\n                totalTime += project[days[n]].Hours\n                totalTime += project[days[n]].Minutes\n            }\n\n            if(totalTime < 1) {\n                delete timeSheet.Projects[keys[i]]\n            }\n        }\n\n        return timeSheet\n    }\n\n    loadTimesheet() {\n        var days = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\n\n        var keys = new Array()\n        if(this.state.timesheet && this.state.timesheet.Projects) {\n            keys = Object.keys(this.state.timesheet.Projects)\n        }\n        var i\n        for(i = 0; i < keys.length; i++) {\n\n            var project = this.state.timesheet.Projects[keys[i]]\n            var n\n            var totalTime = 0\n            for(n = 0; n < days.length; n++) {\n\n                totalTime += project[days[n]].Hours\n                totalTime += project[days[n]].Minutes\n            }\n\n            for(n = 0; n < days.length; n++) {\n\n                var timeBox = document.getElementById(project.ID + \"_\" + days[n].toLowerCase())\n\n                if(project[days[n]].Hours < 1 && project[days[n]].Minutes < 1) {\n\n                    if(totalTime < 1) {\n\n                        timeBox.value = \"\"\n\n                    } else {\n\n                        timeBox.value = \"0\"\n                    }\n\n                } else {\n\n                    timeBox.value = project[days[n]].Hours\n\n                    if(project[days[n]].Minutes > 0) {\n\n                        timeBox.value = timeBox.value + \":\" + project[days[n]].Minutes\n                    }\n                }\n            }\n        }\n    }\n\n    addProject() {\n\n        var projectSelector = document.getElementById('addProject')\n        var projectSpecs = projectSelector.options[projectSelector.selectedIndex].value.split(\":\")\n        var projectName = projectSelector.options[projectSelector.selectedIndex].text\n\n        if(!this.state.timesheet || !this.state.timesheet.Projects || !this.state.timesheet.Projects[projectSpecs[0]]) {\n\n            var timeSheet = this.state.timesheet\n\n            if(!timeSheet.Projects) {\n\n                timeSheet.Projects = new Object();\n            }\n\n            timeSheet.Projects[projectSpecs[0]] = {\n\n                ID: projectSpecs[0],\n                Name: projectName,\n                OwnerUserID: projectSpecs[1],\n\n                Monday: {\n\n                    Hours: 0,\n                    Minutes: 0\n                },\n                Tuesday: {\n\n                    Hours: 0,\n                    Minutes: 0\n                },\n                Wednesday: {\n\n                    Hours: 0,\n                    Minutes: 0\n                },\n                Thursday: {\n\n                    Hours: 0,\n                    Minutes: 0\n                },\n                Friday: {\n\n                    Hours: 0,\n                    Minutes: 0\n                },\n                Saturday: {\n\n                    Hours: 0,\n                    Minutes: 0\n                },\n                Sunday: {\n\n                    Hours: 0,\n                    Minutes: 0\n                }\n            }\n            this.setState({\n\n                timeSheet: timeSheet\n            })\n        }\n\n        this.state.updateApp('timesheet_' + this.getISODate(this.state.monday), JSON.stringify(timeSheet))\n    }\n\n    addAnotherLine() {\n\n        this.setState({\n\n            lines: this.state.lines + 1\n        })\n    }\n\n    restoreValue = (event) => {\n\n        if(document.activeElement == document.getElementById(event.target.id)) {\n\n            return\n        }\n\n        var projectParts = event.target.id.split(\"_\")\n        var projectID = projectParts[0]\n        var editedDay = projectParts[1]\n        var timeSheet = this.state['timesheet_' + this.getISODate(this.state.monday)]\n        if(timeSheet.length < 1 || !timeSheet.Projects || !timeSheet.Projects[projectID] || !timeSheet.Projects[projectID]['Monday']) {\n            return\n        }\n\n        var hours = timeSheet.Projects[projectID][editedDay.charAt(0).toUpperCase() + editedDay.slice(1)].Hours\n        var minutes = timeSheet.Projects[projectID][editedDay.charAt(0).toUpperCase() + editedDay.slice(1)].Minutes\n\n        if(hours < 1 && minutes < 1) {\n\n            document.getElementById(event.target.id).value = '0';\n            return\n        }\n\n        var newVal = hours\n\n        if(minutes > 0) {\n\n            newVal = newVal + \":\" + minutes\n        }\n\n        document.getElementById(event.target.id).value = newVal\n    }\n\n    resetField = (event) => {\n\n        event.target.value = \"\"\n    }\n\n    analyseContent = (event) => {\n\n        this.parseTimeBox(event.target.id)\n    }\n\n    getPreviousDay(day) {\n\n        switch(day) {\n            case \"monday\":\n                return \"\"\n                break\n            case \"tuesday\":\n                return \"monday\"\n                break\n            case \"wednesday\":\n                return \"tuesday\"\n                break\n            case \"thursday\":\n                return \"wednesday\"\n                break\n            case \"friday\":\n                return \"thursday\"\n                break\n            case \"saturday\":\n                return \"friday\"\n                break\n            case \"sunday\":\n                return \"saturday\"\n                break\n        }\n    }\n\n    getNextDay(day) {\n\n        switch(day) {\n\n            case \"monday\":\n\n                return \"tuesday\"\n                break\n\n            case \"tuesday\":\n\n                return \"wednesday\"\n                break\n\n            case \"wednesday\":\n\n                return \"thursday\"\n                break\n\n            case \"thursday\":\n\n                return \"friday\"\n                break\n\n            case \"friday\":\n\n                return \"saturday\"\n                break\n\n            case \"saturday\":\n\n                return \"sunday\"\n                break\n\n            case \"sunday\":\n\n                return \"\"\n                break\n        }\n    }\n\n    parseTimeBox(boxID) {\n        var box = document.getElementById(boxID)\n        var newValue = document.getElementById(boxID).value\n        var oldValue = document.getElementById(boxID).value = newValue.substring(0,newValue.length - 1)\n        var latestCharacter = newValue.substring(newValue.length - 1, newValue.length)\n        var hasSeparator = false\n        var hours = parseInt(newValue.split(\":\")[0])\n        var minutes = 0\n        var doShunt = false\n\n        var projectParts = boxID.split(\"_\")\n        var projectID = projectParts[0]\n        var editedDay = projectParts[1]\n\n        if(isNaN(hours)) {\n            hours = 0\n\n            if(latestCharacter != \"0\" && latestCharacter != \":\") {\n                box.value = oldValue\n                return\n            }\n        }\n\n        if(hours > 23) {\n            doShunt = true\n        }\n\n        if(newValue.length > 1 && oldValue == \"0\") {\n            doShunt = true\n        }\n\n        if(oldValue != \"\" && (newValue == \"0\" || newValue == \"00\")) {\n            box.value = \"\"\n            doShunt = true\n        }\n\n        if(newValue.indexOf(\":\") > -1) {\n            hasSeparator = true\n            minutes = parseInt(newValue.split(\":\")[1])\n            if(minutes > 59) {\n                doShunt = true\n            }\n        }\n\n        if(!doShunt) {\n            box.value = newValue;\n\n            if(latestCharacter != \":\") {\n                this.updateTimeSheet(boxID)\n            }\n            return\n        }\n\n        if(this.getNextDay(editedDay).length > 0) {\n            document.getElementById(projectID + \"_\" + this.getNextDay(editedDay)).value = latestCharacter\n            document.getElementById(projectID + \"_\" + this.getNextDay(editedDay)).focus()\n            this.updateTimeSheet(projectID + \"_\" + this.getNextDay(editedDay))\n            return\n        }\n\n        var projects = new Array();\n        if(this.state.timesheet && this.state.timesheet.Projects) {\n            projects = Object.keys(this.state.timesheet.Projects)\n        }\n\n        var i;\n        var foundUs = false\n        var nextProject = \"\"\n        for(i = 0; i < projects.length; i++) {\n            if(this.state.timesheet.Projects[projects[i]].ID == projectID) {\n                foundUs = true\n                continue\n            }\n            if(foundUs) {\n                nextProject = this.state.timesheet.Projects[projects[i]].ID\n                break\n            }\n        }\n\n        if(nextProject.length < 1) {\n            return\n        }\n\n        document.getElementById(nextProject + \"_monday\").value = latestCharacter\n        document.getElementById(nextProject + \"_monday\").focus()\n        this.updateTimeSheet(nextProject + \"_monday\")\n        return\n    }\n\n    clearTheGrid() {\n        if(!this.state.timesheet || !this.state.timesheet.Projects) {\n            return\n        }\n\n        alert(JSON.stringify(this.state.timesheet))\n\n        var i;\n        for(i = 0; i < this.state.timesheet.Projects.length; i++) {\n            alert(this.state.timesheet.Projects[i].ID + \"_monday\")\n            document.getElementById(this.state.timesheet.Projects[i].ID + \"_monday\").value = \"\"\n        }\n    }\n\n    updateTimeSheet(boxID) {\n\n        var projectParts = boxID.split(\"_\")\n        var projectID = projectParts[0]\n        var editedDay = projectParts[1]\n        var newValue = document.getElementById(boxID).value\n        var timeSheet = this.state.timesheet\n        var hours = parseInt(newValue.split(\":\")[0])\n        var minutes = 0\n\n        if(newValue.indexOf(\":\") > -1) {\n            minutes = parseInt(newValue.split(\":\")[1])\n        }\n\n        timeSheet.Projects[projectID][editedDay.charAt(0).toUpperCase() + editedDay.slice(1)] = {\n            Hours: hours,\n            Minutes: minutes\n        }\n\n        this.state.updateApp('timesheet_' + this.getISODate(this.state.monday), JSON.stringify(timeSheet))\n        this.setState({\n            ['timesheet_' + this.getISODate(this.state.monday)]: JSON.stringify(timeSheet)\n        })\n    }\n\n    getDayTotal(day) {\n\n        var i\n        var hours = 0\n        var minutes = 0\n        var projects = Object.keys(this.state.timesheet.Projects)\n        for(i = 0; i < projects.length; i++) {\n\n            var projectAmount = document.getElementById(projects[i] + '_' + day).value\n            var parts = projectAmount.split(\":\")\n            hours = parseInt(hours) + parseInt(parts[0])\n\n            if(parts[1] && parts[1].length > 0) {\n\n                minutes = parseInt(minutes) + parseInt(parts[1].padEnd(2, '0'))\n\n                if(minutes >= 60) {\n\n                    hours = parseInt(hours) + 1\n                    minutes = parseInt(minutes) - 60\n                }\n            }\n        }\n\n        return hours + \":\" + minutes\n    }\n\n    submitTimesheet() {\n        this.setState({\n            creating: true\n        })\n\n        fetch(this.state.app.config().api.endpoints.timesheets.create, {\n            method: 'POST',\n            headers: {\n                \"jwt\": this.state.jwt\n            },\n            body: JSON.stringify(this.state.timesheet),\n        }).then(function(response) {\n            return response.json();\n        }).then(function(data) {\n            this.state.updateApp('timesheet_' + this.getISODate(new Date(data.Monday)), data)\n            this.setState({\n                timesheet: data,\n                ['timesheets_' + this.getISODate(new Date(data.Monday))]: data,\n                creating: false\n            })\n        }.bind(this))\n    }\n\n    render() {\n\n        // Sort out the date display\n        var getSuffix = function(d) {\n            if (d > 3 && d < 21) return 'th';\n            switch (d % 10) {\n                case 1:  return \"st\";\n                case 2:  return \"nd\";\n                case 3:  return \"rd\";\n                default: return \"th\";\n            }\n        }\n\n        const month = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\n        var bannerStart = String(this.state.chosenDate.getDate()) + getSuffix(this.state.chosenDate.getDate()) + \" \" + month[this.state.chosenDate.getMonth()]\n        var endDate = new Date(this.state.chosenDate)\n        endDate.setDate(this.state.chosenDate.getDate() + 6)\n        var bannerEnd = String(endDate.getDate()) + getSuffix(endDate.getDate()) + \" \" + month[endDate.getMonth()]\n\n        var availableProjects = Object()\n        if(this.state.projects && Object.keys(this.state.projects).length > 0) {\n\n            Object.keys(this.state.projects).map((item, key) =>\n\n                {(() => {\n\n                    if(!this.state.timesheet || !this.state.timesheet.Projects || !this.state.timesheet.Projects[this.state.projects[item].ID]) {\n\n                        availableProjects[item] = this.state.projects[item]\n                    }\n\n                })()}\n            )\n        }\n\n        var projectRows = Object.keys(availableProjects).map((item, key) =>\n\n            <option value={this.state.projects[item].ID + \":\" + this.state.projects[item].OwnerUserID}>{this.state.projects[item].Description}</option>\n        )\n\n        return (\n\n            <>\n\n                <div className=\"row mb-3 mt-4\">\n                    <div className=\"col-2\">\n                        <a onClick={this.jumpBackAWeek} className=\"btn btn-primary fa-pull-left text-white\">&lt;&lt;</a>\n                    </div>\n                    <div className=\"col-8\">\n                        <h5>{this.getHumanDate(this.state.monday)} &nbsp; &mdash; &nbsp; {this.getHumanDate(this.state.sunday)}</h5>\n                    </div>\n                    <div className=\"col-2\">\n                        {(() => {\n\n                            if(new Date(this.getISODate(this.state.monday) + \" 00:00:00\") < new Date(this.getISODate(this.state.thisActualWeek) + \" 00:00:00\")) {\n\n                                return (\n\n                                    <a onClick={this.jumpForwardAWeek} className=\"btn btn-primary fa-pull-right text-white\">&gt;&gt;</a>\n                                )\n                            }\n\n                        })()}\n                    </div>\n                </div>\n\n                <div className=\"card mb-4\">\n                    <div className=\"card-header bg-primary text-white\">\n                        <strong>Your Hours</strong>\n                    </div>\n\n                    <div className=\"card-body bg-white\">\n                        <div className=\"row mb-3\">\n                            <div className=\"col-12 text-right\">\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{paddingRight: 7+'px', width: 70+'px'}}>\n                                    Mon\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{paddingRight: 10+'px', width: 77+'px'}}>\n                                    Tue\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{paddingRight: 7+'px', width: 77+'px'}}>\n                                    Wed\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{paddingRight: 10+'px', width: 77+'px'}}>\n                                    Thu\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{paddingRight: 13+'px', width: 80+'px'}}>\n                                    Fri\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{paddingRight: 10+'px', width: 77+'px'}}>\n                                    Sat\n                                </p>\n                                <p className=\"d-inline-block mr-4 mb-0 pb-0\" style={{paddingRight: 10+'px', width: 75+'px'}}>\n                                    Sun\n                                </p>\n                            </div>\n                            <div className=\"col-5\">\n\n                            </div>\n                            <div className=\"col-7 text-right\">\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{width: 70+'px'}}>\n                                    {(() => {\n\n                                        var thisDate = new Date(this.state.chosenDate)\n                                        var dd = String(thisDate.getDate()).padStart(2, '0');\n                                        var mm = String(thisDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n                                        return (\n                                            <span>\n                                                {dd}/{mm}\n                                            </span>\n                                    )\n\n                                    })()}\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{width: 77+'px'}}>\n                                    {(() => {\n\n                                        var thisDate = new Date(this.state.chosenDate)\n                                        thisDate.setDate(thisDate.getDate() + 1)\n                                        var dd = String(thisDate.getDate()).padStart(2, '0');\n                                        var mm = String(thisDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n                                        return (\n                                            <span>\n                                                {dd}/{mm}\n                                            </span>\n                                        )\n\n                                    })()}\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{width: 77+'px'}}>\n                                    {(() => {\n\n                                        var thisDate = new Date(this.state.chosenDate)\n                                        thisDate.setDate(thisDate.getDate() + 2)\n                                        var dd = String(thisDate.getDate()).padStart(2, '0');\n                                        var mm = String(thisDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n                                        return (\n                                            <span>\n                                                {dd}/{mm}\n                                            </span>\n                                        )\n\n                                    })()}\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{width: 77+'px'}}>\n                                    {(() => {\n\n                                        var thisDate = new Date(this.state.chosenDate)\n                                        thisDate.setDate(thisDate.getDate() + 3)\n                                        var dd = String(thisDate.getDate()).padStart(2, '0');\n                                        var mm = String(thisDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n                                        return (\n                                            <span>\n                                                {dd}/{mm}\n                                            </span>\n                                        )\n\n                                    })()}\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{width: 80+'px'}}>\n                                    {(() => {\n\n                                        var thisDate = new Date(this.state.chosenDate)\n                                        thisDate.setDate(thisDate.getDate() + 4)\n                                        var dd = String(thisDate.getDate()).padStart(2, '0');\n                                        var mm = String(thisDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n                                        return (\n                                            <span>\n                                                {dd}/{mm}\n                                            </span>\n                                        )\n\n                                    })()}\n                                </p>\n                                <p className=\"d-inline-block mb-0 pb-0\" style={{width: 77+'px'}}>\n                                    {(() => {\n\n                                        var thisDate = new Date(this.state.chosenDate)\n                                        thisDate.setDate(thisDate.getDate() + 5)\n                                        var dd = String(thisDate.getDate()).padStart(2, '0');\n                                        var mm = String(thisDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n                                        return (\n                                            <span>\n                                                {dd}/{mm}\n                                            </span>\n                                        )\n\n                                    })()}\n                                </p>\n                                <p className=\"d-inline-block mr-4 mb-0 pb-0\" style={{width: 75+'px'}}>\n                                    {(() => {\n\n                                        var thisDate = new Date(this.state.chosenDate)\n                                        thisDate.setDate(thisDate.getDate() + 6)\n                                        var dd = String(thisDate.getDate()).padStart(2, '0');\n                                        var mm = String(thisDate.getMonth() + 1).padStart(2, '0'); //January is 0!\n\n                                        return (\n                                            <span>\n                                                {dd}/{mm}\n                                            </span>\n                                        )\n\n                                    })()}\n                                </p>\n                            </div>\n                        </div>\n\n                        <hr/>\n\n                        {(() => {\n\n\n\n                            var i;\n                            var output = new Array();\n                            var projects = new Array();\n\n                            if(this.state.timesheet && this.state.timesheet.Projects) {\n\n                                projects = Object.keys(this.state.timesheet.Projects)\n                            }\n\n                            for(i = 0; i < projects.length; i++) {\n\n                                var thisProject = this.state.timesheet.Projects[projects[i]]\n                                output.push(\n\n                                    <>\n                                    <div key={thisProject.ID} className=\"row\">\n                                    <div className=\"col-5\">\n                                        <strong>{thisProject.Name}</strong>\n                                    </div>\n                                    <div className=\"col-7\">\n                                        <form className=\"form-inline fa-pull-right\">\n                                            {(() => {\n\n                                                if(this.state.timesheet.Approval && this.state.timesheet.Approval.Submitted && !this.state.timesheet.Approval.Approved) {\n\n                                                    return (\n\n                                                        <span>\n                                                        <input type=\"text\" id={thisProject.ID + \"_monday\"} disabled className=\"form-control mr-2 text-center font-weight-bold\" maxLength=\"6\" style={{width: 70+'px'}} name=\"monday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} autoFocus />\n                                                        <input type=\"text\" id={thisProject.ID + \"_tuesday\"} disabled className=\"form-control mr-2 text-center font-weight-bold\" maxLength=\"6\" style={{width: 70+'px'}} name=\"tuesday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_wednesday\"} disabled className=\"form-control mr-2 text-center font-weight-bold\" maxLength=\"6\" style={{width: 70+'px'}} name=\"wednesday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_thursday\"} disabled className=\"form-control mr-2 text-center font-weight-bold bg-orange-light text-white\" placeholder=\"BH\" maxLength=\"6\" style={{width: 70+'px'}} name=\"thursday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_friday\"} disabled className=\"form-control mr-2 text-center font-weight-bold\" maxLength=\"6\" style={{width: 70+'px'}} name=\"friday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_saturday\"} disabled className=\"form-control mr-2 text-center font-weight-bold bg-gray-light text-white\" maxLength=\"6\" style={{width: 70+'px'}} name=\"saturday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_sunday\"} disabled className=\"form-control mr-2 text-center font-weight-bold bg-gray-light text-white\" maxLength=\"6\" style={{width: 70+'px'}} name=\"sunday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        </span>\n                                                    )\n\n                                                } else {\n\n                                                    return (\n\n                                                        <span>\n                                                        <input type=\"text\" id={thisProject.ID + \"_monday\"} className=\"form-control mr-2 text-center font-weight-bold\" maxLength=\"6\" style={{width: 70+'px'}} name=\"monday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} autoFocus />\n                                                        <input type=\"text\" id={thisProject.ID + \"_tuesday\"} className=\"form-control mr-2 text-center font-weight-bold\" maxLength=\"6\" style={{width: 70+'px'}} name=\"tuesday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_wednesday\"} className=\"form-control mr-2 text-center font-weight-bold\" maxLength=\"6\" style={{width: 70+'px'}} name=\"wednesday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_thursday\"} className=\"form-control mr-2 text-center font-weight-bold bg-orange-light text-white\" placeholder=\"BH\" maxLength=\"6\" style={{width: 70+'px'}} name=\"thursday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_friday\"} className=\"form-control mr-2 text-center font-weight-bold\" maxLength=\"6\" style={{width: 70+'px'}} name=\"friday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_saturday\"} className=\"form-control mr-2 text-center font-weight-bold bg-gray-light text-white\" maxLength=\"6\" style={{width: 70+'px'}} name=\"saturday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        <input type=\"text\" id={thisProject.ID + \"_sunday\"} className=\"form-control mr-2 text-center font-weight-bold bg-gray-light text-white\" maxLength=\"6\" style={{width: 70+'px'}} name=\"sunday\" onClick={this.resetField} onBlur={this.restoreValue} onChange={this.analyseContent} />\n                                                        </span>\n                                                    )\n                                                }\n\n                                            })()}\n                                        </form>\n                                    </div>\n                                </div>\n                                    {(() => {\n\n                                        if(i < projects.length - 1) {\n                                            return (\n                                                <hr />\n                                            )\n                                        }\n\n                                    })()}\n\n                                    </>\n                                )\n                            }\n\n                            return output\n\n                        })()}\n\n                    </div>\n\n                    {(() => {\n\n                        if(this.state.projects && Object.keys(this.state.projects).length > 0 && (!this.state.timesheet.Approval || !this.state.timesheet.Approval.Submitted)) {\n\n                            return (\n\n                                <div className=\"card-footer\">\n                                    <div className=\"form-row\">\n                                        <div className=\"col-2\">\n                                            <button className=\"btn btn-primary\" onClick={this.addProject}>Add Project</button>\n                                        </div>\n\n                                        <div className=\"col-10\">\n                                            <select id=\"addProject\" className=\"form-control font-weight-bold\" name=\"project\">\n                                                {projectRows}\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n                            )\n                        }\n\n                    })()}\n                </div>\n\n                {(() => {\n\n                    if(!this.state.timesheet || !this.state.timesheet.Approval || !this.state.timesheet.Approval.Submitted) {\n\n                        if(this.state.creating) {\n\n                            return (\n\n                                <div className=\"pb-4\">\n                                    <button className=\"btn btn-success fa-pull-right\" disabled>\n                                        <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> &nbsp; Submitting ...\n                                    </button>\n                                </div>\n                            )\n\n                        } else {\n\n                            if(this.state.projects && Object.keys(this.state.projects).length > 0) {\n\n                                return (\n\n                                    <div className=\"pb-4\">\n                                        <button className=\"btn btn-success fa-pull-right\" onClick={this.submitTimesheet}>Submit For Approval</button>\n                                    </div>\n                                )\n                            }\n                        }\n                    } else {\n                        return (\n\n                            <div className=\"alert alert-primary\" role=\"alert\">\n                                This timesheet is pending approval\n                            </div>\n                        )\n                    }\n\n                })()}\n\n                {(() => {\n\n                    if(!this.state.projects || Object.keys(this.state.projects).length < 1) {\n\n                        return (\n\n                            <div className=\"alert alert-primary mt-4\" role=\"alert\">\n                                <strong>No Projects</strong> - You must be enrolled in one or more projects to file a timesheet\n                            </div>\n                        )\n\n                    }\n\n                })()}\n\n            </>\n        )\n    }\n}\n\nexport default TimeSheets;","import React, { Component } from 'react'\nimport ls from \"local-storage\";\nimport {Redirect} from \"react-router-dom\";\n\nclass Teams extends Component {\n    constructor(props) {\n        super(props);\n        this.state = props.state;\n\n        this.doMouseUp = this.doMouseUp.bind(this);\n        this.enableAutoFocus = this.enableAutoFocus.bind(this)\n        this.shiftFocus = this.shiftFocus.bind(this)\n        this.addTeam = this.addTeam.bind(this);\n        this.joinTeam = this.joinTeam.bind(this);\n    }\n\n    componentDidMount() {\n        document.addEventListener(\"keydown\", function(event)\n        {\n            if(event.keyCode == 13) {\n                switch(this.state.targetAction) {\n                    case 'join':\n                        document.getElementById('joinTeamButton').click()\n                        break\n\n                    case 'create':\n                        document.getElementById('createTeamButton').click()\n                        break\n                }\n\n                this.setState({\n                    targetAction: false\n                })\n            }\n        }.bind(this))\n    }\n\n    doMouseDown(e) {\n        window[e.currentTarget.dataset.id] = false\n    }\n\n    doMouseMove(e) {\n        window[e.currentTarget.dataset.id] = true\n    }\n\n    doMouseUp(e) {\n        if(!window[e.currentTarget.dataset.id]) {\n            this.setState({\n                destination: e.currentTarget.dataset.href\n            })\n        }\n    }\n\n    shiftFocus = (event) => {\n        var field\n        var searchTargetField = document.getElementById('searchTarget');\n        searchTargetField.innerText = '';\n\n        switch(event.target.id) {\n\n            case \"joinButton\":\n                field = \"joinCode\";\n                this.setState({\n                    targetAction: 'join'\n                })\n                break;\n\n            case \"createButton\":\n                field = \"team\";\n                this.setState({\n                    targetAction: 'create'\n                })\n\n                break;\n        }\n\n        setTimeout(() => {\n            var targetField = document.getElementById(field)\n            if(targetField) {\n                targetField.value = '';\n                targetField.focus()\n            }\n\n        }, 400)\n    }\n\n    enableAutoFocus() {\n        document.getElementById('searchTarget').innerText = 'search';\n    }\n\n    joinTeam() {\n        var joinCode = document.getElementById('joinCode').value\n\n        fetch(JSON.parse(ls.get('config')).Backend + 'teams/join/' + joinCode, {\n            method: 'GET',\n            headers: {\n\n                \"X-MYHOURS-SESSION\": this.state.session.ID\n            }\n        }).then(function(response) {\n\n            return response.json();\n        }).then(function(team) {\n\n            var teams = JSON.parse(ls.get('teams'))\n\n            if(!teams) {\n\n                teams = new Object()\n            }\n\n            teams[team.ID] = team\n            ls.set('teams', JSON.stringify(teams))\n\n            this.setState({\n\n                teams: teams\n            })\n\n        }.bind(this))\n    }\n\n    addTeam() {\n        var description = document.getElementById('team').value\n        if(description.length < 1) {\n            this.setState({\n                creating: false,\n                targetAction: false\n            })\n\n            return\n        }\n\n        this.setState({\n            creating: true\n        })\n\n        fetch(this.state.config.api.endpoints.teams.create, {\n            method: 'POST',\n            headers: {\n                \"jwt\": this.state.jwt\n            },\n            body: JSON.stringify({\n                Description: description\n            })\n        }).then(function(response) {\n            return response.json();\n        }).then(function(team) {\n            var teams = this.state.teams\n            if(!teams) {\n                teams = new Object()\n            }\n\n            teams[team.ID] = team\n            this.state.updateApp('teams', teams)\n\n            document.getElementById('team').value = '';\n            this.setState({\n                creating: false,\n                teams: teams\n            })\n        }.bind(this))\n    }\n\n    filterTeams() {\n\n        var searchString = document.getElementById(document.getElementById('searchTarget').innerText).value;\n        var searchStyle = document.getElementById('search_style');\n\n        if(searchString.length > 2)\n        {\n            searchStyle.innerHTML = \".searchable:not([data-index*=\\\"\" + searchString.toLowerCase() + \"\\\"]) { display: none; }\";\n        }\n        else\n        {\n            searchStyle.innerHTML = \"\";\n        }\n    }\n\n    render() {\n        var tableRows;\n        if(this.state.teams) {\n\n            tableRows = Object.keys(this.state.teams).map((item, key) =>\n\n                <tr className=\"data-row searchable\" key={this.state.teams[item].ID} onMouseDown={this.doMouseDown} onMouseMove={this.doMouseMove} onClick={this.doMouseUp} data-index={this.state.teams[item].Description.toLowerCase()} data-href={\"/teams/\" + this.state.teams[item].ID} data-id={this.state.teams[item].ID}>\n                    <td>{this.state.teams[item].Description}</td>\n\n                    {(() => {\n\n                        if(this.state.teams[item].Members) {\n\n                            var keys = Object.keys(this.state.teams[item].Members)\n                            var length = 0\n\n                            if(keys) {\n\n                                length = keys.length\n                            }\n\n                            return (\n\n                                <td>{length}</td>\n                            )\n\n                        } else {\n\n                            return (\n\n                                <td>0</td>\n                            )\n                        }\n\n                    })()}\n                </tr>\n            )\n        }\n\n        return (\n\n            <>\n                <span>\n\n                    <span hidden id=\"searchTarget\">search</span>\n                    <span hidden id=\"createWait\">\n                        <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> &nbsp; Creating ...\n                    </span>\n\n                    {(() => {\n\n                        if(!this.state.teams || Object.keys(this.state.teams).length < 1) {\n\n                            return (\n\n                                <span>\n                                <div className=\"alert alert-primary mt-4\" role=\"alert\">\n                                    <div className=\"row\">\n                                        <div className=\"col-2\">\n                                            <button className=\"btn btn-primary\" id=\"joinButton\" data-toggle=\"modal\" data-target=\"#joinTeam\" onClick={this.shiftFocus}>Join A Team</button>\n                                        </div>\n                                        <div className=\"col-8 mt-2 text-center\">\n                                            <strong>No Teams</strong> - You have no teams - create your first one now.\n                                        </div>\n                                        <div className=\"col-2\">\n                                            {(() => {\n\n                                                if(this.state.creating) {\n\n                                                    return (\n\n                                                        <button className=\"btn btn-primary fa-pull-right\" disabled>\n                                                            <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> &nbsp; Creating ...\n                                                        </button>\n                                                    )\n\n                                                } else {\n\n                                                    return (\n\n                                                        <button className=\"btn btn-primary fa-pull-right\" id=\"createButton\" data-toggle=\"modal\" data-target=\"#addTeam\" onClick={this.shiftFocus}>Create A New Team</button>\n                                                    )\n                                                }\n\n                                            })()}\n                                        </div>\n                                    </div>\n                                </div>\n                            </span>\n                            )\n\n                        } else {\n\n                            return (\n\n                                <span>\n\n                                 <div className=\"row mb-3\">\n                                    <div className=\"col-12\">\n                                        <button className=\"btn btn-primary fa-pull-left\" id=\"joinButton\" data-toggle=\"modal\" data-target=\"#joinTeam\" onClick={this.shiftFocus}>Join A Team</button>\n                                        {(() => {\n\n                                            if(this.state.creating) {\n\n                                                return (\n\n                                                    <button className=\"btn btn-primary fa-pull-right\" disabled>\n                                                        <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> &nbsp; Creating ...\n                                                    </button>\n                                                )\n\n                                            } else {\n\n                                                return (\n\n                                                    <button className=\"btn btn-primary fa-pull-right\" id=\"createButton\" data-toggle=\"modal\" data-target=\"#addTeam\" onClick={this.shiftFocus}>Create A New Team</button>\n                                                )\n                                            }\n\n                                        })()}\n                                    </div>\n                                </div>\n\n                                <div className=\"card mb-3\">\n                                    <div className=\"card-body\">\n                                        <input className=\"form-control\" type=\"text\" id=\"search\" placeholder=\"Search your teams\" onChange={this.filterTeams} autoFocus />\n                                    </div>\n                                </div>\n\n                                <div className=\"card\">\n                                    <div className=\"card-body pb-0\">\n                                        <table id=\"userTable\" className=\"table table-hover\">\n                                            <thead>\n                                            <tr>\n                                                <th scope=\"col\" className=\"d-none d-md-table-cell\">Team</th>\n                                                <th scope=\"col\" className=\"d-none d-md-table-cell\">Members</th>\n                                            </tr>\n                                            </thead>\n                                            <tbody id=\"tableBody\">{tableRows}</tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </span>\n                            )\n                        }\n\n                    })()}\n\n                </span>\n\n                <div className=\"modal fade\" id=\"addTeam\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"addTeamTitle\" aria-hidden=\"true\">\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\" id=\"addTeamTitle\">Create A Team</h5>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"team\" className=\"col-form-label\">Name:</label>\n                                    <input type=\"text\" className=\"form-control\" id=\"team\" />\n                                </div>\n                            </div>\n                            <div className=\"modal-footer\">\n\n                                <button className=\"btn btn-primary text-right\" data-dismiss=\"modal\" id=\"createTeamButton\" onClick={this.addTeam}>Create A Team</button>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"modal fade\" id=\"joinTeam\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"joinTeamTitle\" aria-hidden=\"true\">\n                    <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h5 className=\"modal-title\" id=\"joinTeamTitle\">Join A Team</h5>\n                            </div>\n                            <div className=\"modal-body\">\n                                <form>\n                                    <div className=\"form-group\">\n                                        <label htmlFor=\"team\" className=\"col-form-label\">Join Code:</label>\n                                        <input type=\"text\" className=\"form-control\" id=\"joinCode\" />\n                                    </div>\n                                </form>\n                            </div>\n                            <div className=\"modal-footer\">\n\n                                <button className=\"btn btn-primary text-right\" data-dismiss=\"modal\" id=\"joinTeamButton\" onClick={this.joinTeam}>Join Team</button>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </>\n        )\n    }\n}\n\nexport default Teams"],"sourceRoot":""}